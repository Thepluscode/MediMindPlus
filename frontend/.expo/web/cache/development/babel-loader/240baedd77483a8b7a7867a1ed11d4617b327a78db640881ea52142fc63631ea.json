{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport apiService from \"./apiService\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar AuthService = function () {\n  function AuthService() {\n    _classCallCheck(this, AuthService);\n  }\n  return _createClass(AuthService, [{\n    key: \"updateProfilePicture\",\n    value: function updateProfilePicture(arg0) {\n      throw new Error('Method not implemented.');\n    }\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator(function* (credentials) {\n        try {\n          var response = yield apiService.post('/auth/login', {\n            email: credentials.email,\n            password: credentials.password\n          });\n          var authResponse = {\n            user: response.data.user,\n            token: response.data.tokens.accessToken,\n            refreshToken: response.data.tokens.refreshToken\n          };\n          yield this.storeAuthData(authResponse);\n          return authResponse;\n        } catch (error) {\n          console.error('Login error:', error);\n          throw error;\n        }\n      });\n      function login(_x) {\n        return _login.apply(this, arguments);\n      }\n      return login;\n    }()\n  }, {\n    key: \"register\",\n    value: function () {\n      var _register = _asyncToGenerator(function* (userData) {\n        try {\n          var response = yield apiService.post('/auth/register', userData);\n          var authResponse = {\n            user: response.data.user,\n            token: response.data.tokens.accessToken,\n            refreshToken: response.data.tokens.refreshToken\n          };\n          yield this.storeAuthData(authResponse);\n          return authResponse;\n        } catch (error) {\n          console.error('Registration error:', error);\n          throw error;\n        }\n      });\n      function register(_x2) {\n        return _register.apply(this, arguments);\n      }\n      return register;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = _asyncToGenerator(function* () {\n        try {\n          yield apiService.post('/auth/logout');\n        } catch (error) {\n          console.error('Logout error:', error);\n        } finally {\n          yield this.clearAuthData();\n        }\n      });\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n      return logout;\n    }()\n  }, {\n    key: \"refreshToken\",\n    value: function () {\n      var _refreshToken = _asyncToGenerator(function* () {\n        try {\n          var _response$data, _response$data$tokens;\n          var _refreshToken2 = yield AsyncStorage.getItem('refreshToken');\n          if (!_refreshToken2) {\n            throw new Error('No refresh token available');\n          }\n          var response = yield apiService.post('/auth/refresh-token', {\n            refreshToken: _refreshToken2\n          });\n          if (!((_response$data = response.data) != null && (_response$data$tokens = _response$data.tokens) != null && _response$data$tokens.accessToken)) {\n            throw new Error('Invalid token refresh response');\n          }\n          var userJson = yield AsyncStorage.getItem('user');\n          if (!userJson) {\n            throw new Error('No user data available for token refresh');\n          }\n          var user = JSON.parse(userJson);\n          var authResponse = {\n            user: user,\n            token: response.data.tokens.accessToken,\n            refreshToken: response.data.tokens.refreshToken || _refreshToken2\n          };\n          yield this.storeAuthData(authResponse);\n          return response.data.tokens.accessToken;\n        } catch (error) {\n          console.error('Token refresh failed:', error);\n          yield this.clearAuthData();\n          throw error;\n        }\n      });\n      function refreshToken() {\n        return _refreshToken.apply(this, arguments);\n      }\n      return refreshToken;\n    }()\n  }, {\n    key: \"getCurrentUser\",\n    value: function () {\n      var _getCurrentUser = _asyncToGenerator(function* () {\n        try {\n          var token = yield AsyncStorage.getItem('authToken');\n          if (!token) {\n            throw new Error('No authentication token available');\n          }\n          var userJson = yield AsyncStorage.getItem('user');\n          if (!userJson) {\n            throw new Error('No user data available');\n          }\n          return JSON.parse(userJson);\n        } catch (error) {\n          console.error('Failed to fetch current user:', error);\n          throw error;\n        }\n      });\n      function getCurrentUser() {\n        return _getCurrentUser.apply(this, arguments);\n      }\n      return getCurrentUser;\n    }()\n  }, {\n    key: \"isAuthenticated\",\n    value: function () {\n      var _isAuthenticated = _asyncToGenerator(function* () {\n        var token = yield AsyncStorage.getItem('authToken');\n        return !!token;\n      });\n      function isAuthenticated() {\n        return _isAuthenticated.apply(this, arguments);\n      }\n      return isAuthenticated;\n    }()\n  }, {\n    key: \"storeAuthData\",\n    value: function () {\n      var _storeAuthData = _asyncToGenerator(function* (authData) {\n        try {\n          var token = authData.token,\n            refreshToken = authData.refreshToken,\n            user = authData.user;\n          if (token) {\n            yield AsyncStorage.setItem('authToken', token);\n          }\n          if (refreshToken) {\n            yield AsyncStorage.setItem('refreshToken', refreshToken);\n          }\n          if (user) {\n            yield AsyncStorage.setItem('user', JSON.stringify(user));\n          }\n        } catch (error) {\n          console.error('Error storing auth data:', error);\n          throw error;\n        }\n      });\n      function storeAuthData(_x3) {\n        return _storeAuthData.apply(this, arguments);\n      }\n      return storeAuthData;\n    }()\n  }, {\n    key: \"clearAuthData\",\n    value: function () {\n      var _clearAuthData = _asyncToGenerator(function* () {\n        try {\n          yield AsyncStorage.multiRemove(['authToken', 'refreshToken', 'user']);\n        } catch (error) {\n          console.error('Error clearing auth data:', error);\n          throw error;\n        }\n      });\n      function clearAuthData() {\n        return _clearAuthData.apply(this, arguments);\n      }\n      return clearAuthData;\n    }()\n  }, {\n    key: \"getStoredUser\",\n    value: function () {\n      var _getStoredUser = _asyncToGenerator(function* () {\n        try {\n          var userJson = yield AsyncStorage.getItem('user');\n          if (!userJson) return null;\n          return JSON.parse(userJson);\n        } catch (error) {\n          console.error('Error getting stored user:', error);\n          return null;\n        }\n      });\n      function getStoredUser() {\n        return _getStoredUser.apply(this, arguments);\n      }\n      return getStoredUser;\n    }()\n  }, {\n    key: \"getAuthToken\",\n    value: function () {\n      var _getAuthToken = _asyncToGenerator(function* () {\n        return yield AsyncStorage.getItem('authToken');\n      });\n      function getAuthToken() {\n        return _getAuthToken.apply(this, arguments);\n      }\n      return getAuthToken;\n    }()\n  }]);\n}();\nexport var authService = new AuthService();","map":{"version":3,"names":["apiService","AsyncStorage","AuthService","_classCallCheck","_createClass","key","value","updateProfilePicture","arg0","Error","_login","_asyncToGenerator","credentials","response","post","email","password","authResponse","user","data","token","tokens","accessToken","refreshToken","storeAuthData","error","console","login","_x","apply","arguments","_register","userData","register","_x2","_logout","clearAuthData","logout","_refreshToken","_response$data","_response$data$tokens","getItem","userJson","JSON","parse","_getCurrentUser","getCurrentUser","_isAuthenticated","isAuthenticated","_storeAuthData","authData","setItem","stringify","_x3","_clearAuthData","multiRemove","_getStoredUser","getStoredUser","_getAuthToken","getAuthToken","authService"],"sources":["/Users/theophilusogieva/Downloads/medimind/frontend/src/services/authService.ts"],"sourcesContent":["import apiService from './apiService';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthResponse, LoginCredentials, RegisterData, UserProfile } from '../types/models/user';\n\nclass AuthService {\n  updateProfilePicture(arg0: string) {\n    throw new Error('Method not implemented.');\n  }\n  async login(credentials: LoginCredentials): Promise<AuthResponse> {\n    try {\n      const response = await apiService.post<{ user: UserProfile; tokens: { accessToken: string; refreshToken: string } }>('/auth/login', {\n        email: credentials.email,\n        password: credentials.password,\n      });\n\n      // Transform response to match frontend AuthResponse format\n      const authResponse: AuthResponse = {\n        user: response.data.user,\n        token: response.data.tokens.accessToken,\n        refreshToken: response.data.tokens.refreshToken\n      };\n\n      // Store tokens\n      await this.storeAuthData(authResponse);\n\n      return authResponse;\n    } catch (error: any) {\n      console.error('Login error:', error);\n      throw error;\n    }\n  }\n\n  async register(userData: RegisterData): Promise<AuthResponse> {\n    try {\n      const response = await apiService.post<{ user: UserProfile; tokens: { accessToken: string; refreshToken: string } }>('/auth/register', userData);\n\n      // Transform response to match frontend AuthResponse format\n      const authResponse: AuthResponse = {\n        user: response.data.user,\n        token: response.data.tokens.accessToken,\n        refreshToken: response.data.tokens.refreshToken\n      };\n\n      // Store tokens\n      await this.storeAuthData(authResponse);\n\n      return authResponse;\n    } catch (error: any) {\n      console.error('Registration error:', error);\n      throw error;\n    }\n  }\n\n  async logout(): Promise<void> {\n    try {\n      // Call backend to invalidate token\n      await apiService.post('/auth/logout');\n    } catch (error) {\n      console.error('Logout error:', error);\n      // Continue with local cleanup even if server logout fails\n    } finally {\n      // Clear local storage\n      await this.clearAuthData();\n    }\n  }\n\n  async refreshToken(): Promise<string> {\n    try {\n      const refreshToken = await AsyncStorage.getItem('refreshToken');\n      if (!refreshToken) {\n        throw new Error('No refresh token available');\n      }\n\n      const response = await apiService.post<{ tokens: { accessToken: string; refreshToken: string } }>('/auth/refresh-token', { refreshToken });\n\n      if (!response.data?.tokens?.accessToken) {\n        throw new Error('Invalid token refresh response');\n      }\n\n      // Get the current user data to construct a complete AuthResponse\n      const userJson = await AsyncStorage.getItem('user');\n      if (!userJson) {\n        throw new Error('No user data available for token refresh');\n      }\n      const user = JSON.parse(userJson);\n\n      // Create complete AuthResponse with user data\n      const authResponse: AuthResponse = {\n        user,\n        token: response.data.tokens.accessToken,\n        refreshToken: response.data.tokens.refreshToken || refreshToken // Use new refresh token if provided, otherwise keep the old one\n      };\n\n      await this.storeAuthData(authResponse);\n\n      return response.data.tokens.accessToken;\n    } catch (error) {\n      console.error('Token refresh failed:', error);\n      await this.clearAuthData();\n      throw error;\n    }\n  }\n\n  async getCurrentUser(): Promise<UserProfile> {\n    try {\n      // First try to get user from token if available\n      const token = await AsyncStorage.getItem('authToken');\n      if (!token) {\n        throw new Error('No authentication token available');\n      }\n\n      // In a real app, you might want to validate the token and get user info from it\n      // or implement a /me endpoint on the backend\n      const userJson = await AsyncStorage.getItem('user');\n      if (!userJson) {\n        throw new Error('No user data available');\n      }\n\n      return JSON.parse(userJson);\n    } catch (error) {\n      console.error('Failed to fetch current user:', error);\n      throw error;\n    }\n  }\n\n  async isAuthenticated(): Promise<boolean> {\n    const token = await AsyncStorage.getItem('authToken');\n    return !!token;\n  }\n\n  private async storeAuthData(authData: AuthResponse): Promise<void> {\n    try {\n      const { token, refreshToken, user } = authData;\n\n      if (token) {\n        await AsyncStorage.setItem('authToken', token);\n      }\n\n      if (refreshToken) {\n        await AsyncStorage.setItem('refreshToken', refreshToken);\n      }\n\n      if (user) {\n        await AsyncStorage.setItem('user', JSON.stringify(user));\n      }\n    } catch (error) {\n      console.error('Error storing auth data:', error);\n      throw error;\n    }\n  }\n\n  private async clearAuthData(): Promise<void> {\n    try {\n      await AsyncStorage.multiRemove(['authToken', 'refreshToken', 'user']);\n    } catch (error) {\n      console.error('Error clearing auth data:', error);\n      throw error;\n    }\n  }\n\n  async getStoredUser(): Promise<UserProfile | null> {\n    try {\n      const userJson = await AsyncStorage.getItem('user');\n      if (!userJson) return null;\n\n      return JSON.parse(userJson) as UserProfile;\n    } catch (error) {\n      console.error('Error getting stored user:', error);\n      return null;\n    }\n  }\n\n  async getAuthToken(): Promise<string | null> {\n    return await AsyncStorage.getItem('authToken');\n  }\n}\n\nexport const authService = new AuthService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}