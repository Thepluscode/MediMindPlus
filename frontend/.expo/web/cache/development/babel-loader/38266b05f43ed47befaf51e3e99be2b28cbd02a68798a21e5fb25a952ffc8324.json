{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar ScalableArchitectureEngine = function () {\n  function ScalableArchitectureEngine() {\n    _classCallCheck(this, ScalableArchitectureEngine);\n    this.loadBalancers = new Map();\n    this.autoScalingGroups = new Map();\n    this.performanceMetrics = new Map();\n  }\n  return _createClass(ScalableArchitectureEngine, [{\n    key: \"initializeLoadBalancing\",\n    value: function () {\n      var _initializeLoadBalancing = _asyncToGenerator(function* (regions) {\n        for (var region of regions) {\n          var loadBalancer = {\n            region: region,\n            algorithm: 'round-robin',\n            healthChecks: true,\n            sslTermination: true,\n            targets: [],\n            metrics: {\n              requestsPerSecond: 0,\n              averageResponseTime: 0,\n              errorRate: 0\n            }\n          };\n          this.loadBalancers.set(region, loadBalancer);\n          console.log(`‚öñÔ∏è Load balancer initialized for region: ${region}`);\n        }\n      });\n      function initializeLoadBalancing(_x) {\n        return _initializeLoadBalancing.apply(this, arguments);\n      }\n      return initializeLoadBalancing;\n    }()\n  }, {\n    key: \"configureAutoScaling\",\n    value: function () {\n      var _configureAutoScaling = _asyncToGenerator(function* (region, config) {\n        var autoScalingGroup = {\n          region: region,\n          minInstances: config.minInstances || 2,\n          maxInstances: config.maxInstances || 20,\n          targetCPUUtilization: config.targetCPU || 70,\n          targetMemoryUtilization: config.targetMemory || 80,\n          scaleUpCooldown: config.scaleUpCooldown || 300,\n          scaleDownCooldown: config.scaleDownCooldown || 600,\n          currentInstances: config.minInstances || 2\n        };\n        this.autoScalingGroups.set(region, autoScalingGroup);\n        console.log(`üìà Auto-scaling configured for region: ${region}`);\n      });\n      function configureAutoScaling(_x2, _x3) {\n        return _configureAutoScaling.apply(this, arguments);\n      }\n      return configureAutoScaling;\n    }()\n  }, {\n    key: \"monitorPerformance\",\n    value: function () {\n      var _monitorPerformance = _asyncToGenerator(function* () {\n        for (var _ref of this.loadBalancers) {\n          var _ref2 = _slicedToArray(_ref, 2);\n          var region = _ref2[0];\n          var loadBalancer = _ref2[1];\n          var metrics = {\n            timestamp: new Date(),\n            requestsPerSecond: Math.floor(Math.random() * 1000) + 100,\n            averageResponseTime: Math.floor(Math.random() * 200) + 50,\n            errorRate: Math.random() * 0.05,\n            cpuUtilization: Math.random() * 100,\n            memoryUtilization: Math.random() * 100,\n            diskUtilization: Math.random() * 100\n          };\n          this.performanceMetrics.set(region, metrics);\n          yield this.evaluateScaling(region, metrics);\n        }\n      });\n      function monitorPerformance() {\n        return _monitorPerformance.apply(this, arguments);\n      }\n      return monitorPerformance;\n    }()\n  }, {\n    key: \"evaluateScaling\",\n    value: function () {\n      var _evaluateScaling = _asyncToGenerator(function* (region, metrics) {\n        var autoScalingGroup = this.autoScalingGroups.get(region);\n        if (!autoScalingGroup) return;\n        var shouldScaleUp = metrics.cpuUtilization > autoScalingGroup.targetCPUUtilization || metrics.memoryUtilization > autoScalingGroup.targetMemoryUtilization;\n        var shouldScaleDown = metrics.cpuUtilization < autoScalingGroup.targetCPUUtilization * 0.5 && metrics.memoryUtilization < autoScalingGroup.targetMemoryUtilization * 0.5;\n        if (shouldScaleUp && autoScalingGroup.currentInstances < autoScalingGroup.maxInstances) {\n          autoScalingGroup.currentInstances++;\n          console.log(`üìà Scaling up in ${region}: ${autoScalingGroup.currentInstances} instances`);\n        } else if (shouldScaleDown && autoScalingGroup.currentInstances > autoScalingGroup.minInstances) {\n          autoScalingGroup.currentInstances--;\n          console.log(`üìâ Scaling down in ${region}: ${autoScalingGroup.currentInstances} instances`);\n        }\n      });\n      function evaluateScaling(_x4, _x5) {\n        return _evaluateScaling.apply(this, arguments);\n      }\n      return evaluateScaling;\n    }()\n  }, {\n    key: \"getPerformanceMetrics\",\n    value: function getPerformanceMetrics(region) {\n      if (region) {\n        return this.performanceMetrics.get(region);\n      }\n      return Object.fromEntries(this.performanceMetrics);\n    }\n  }, {\n    key: \"getScalingStatus\",\n    value: function getScalingStatus() {\n      return Object.fromEntries(this.autoScalingGroups);\n    }\n  }]);\n}();\nvar DataInteroperabilityEngine = function () {\n  function DataInteroperabilityEngine() {\n    _classCallCheck(this, DataInteroperabilityEngine);\n    this.standards = new Map();\n    this.exchanges = new Map();\n    this.initializeStandards();\n  }\n  return _createClass(DataInteroperabilityEngine, [{\n    key: \"initializeStandards\",\n    value: function initializeStandards() {\n      var fhir = {\n        name: 'FHIR',\n        version: 'R4',\n        description: 'Fast Healthcare Interoperability Resources',\n        mappings: {\n          patient: 'Patient',\n          observation: 'Observation',\n          condition: 'Condition',\n          medication: 'Medication'\n        },\n        validationRules: []\n      };\n      var hl7 = {\n        name: 'HL7',\n        version: 'v2.8',\n        description: 'Health Level Seven International',\n        mappings: {\n          patient: 'PID',\n          observation: 'OBX',\n          order: 'ORC'\n        },\n        validationRules: []\n      };\n      var dicom = {\n        name: 'DICOM',\n        version: '3.0',\n        description: 'Digital Imaging and Communications in Medicine',\n        mappings: {\n          study: 'Study',\n          series: 'Series',\n          image: 'Instance'\n        },\n        validationRules: []\n      };\n      this.standards.set('FHIR', fhir);\n      this.standards.set('HL7', hl7);\n      this.standards.set('DICOM', dicom);\n      console.log('üåê Health data standards initialized');\n    }\n  }, {\n    key: \"transformData\",\n    value: function () {\n      var _transformData = _asyncToGenerator(function* (data, fromStandard, toStandard) {\n        var sourceStandard = this.standards.get(fromStandard);\n        var targetStandard = this.standards.get(toStandard);\n        if (!sourceStandard || !targetStandard) {\n          throw new Error('Unsupported data standard');\n        }\n        console.log(`üîÑ Transforming data from ${fromStandard} to ${toStandard}`);\n        var transformedData = _objectSpread(_objectSpread({}, data), {}, {\n          _transformed: true,\n          _sourceStandard: fromStandard,\n          _targetStandard: toStandard,\n          _transformedAt: new Date().toISOString()\n        });\n        return transformedData;\n      });\n      function transformData(_x6, _x7, _x8) {\n        return _transformData.apply(this, arguments);\n      }\n      return transformData;\n    }()\n  }, {\n    key: \"initiateDataExchange\",\n    value: function () {\n      var _initiateDataExchange = _asyncToGenerator(function* (sourceSystem, targetSystem, dataType, standard, data) {\n        var exchangeId = `exchange_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n        var exchange = {\n          id: exchangeId,\n          sourceSystem: sourceSystem,\n          targetSystem: targetSystem,\n          dataType: dataType,\n          standard: standard,\n          status: 'pending',\n          startTime: new Date(),\n          recordsProcessed: 0,\n          recordsSuccessful: 0,\n          recordsFailed: 0,\n          errors: []\n        };\n        this.exchanges.set(exchangeId, exchange);\n        console.log(`üîÑ Data exchange initiated: ${exchangeId}`);\n        this.processDataExchange(exchangeId, data);\n        return exchangeId;\n      });\n      function initiateDataExchange(_x9, _x0, _x1, _x10, _x11) {\n        return _initiateDataExchange.apply(this, arguments);\n      }\n      return initiateDataExchange;\n    }()\n  }, {\n    key: \"processDataExchange\",\n    value: function () {\n      var _processDataExchange = _asyncToGenerator(function* (exchangeId, data) {\n        var exchange = this.exchanges.get(exchangeId);\n        if (!exchange) return;\n        exchange.status = 'in_progress';\n        for (var i = 0; i < data.length; i++) {\n          yield new Promise(function (resolve) {\n            return setTimeout(resolve, 10);\n          });\n          exchange.recordsProcessed++;\n          if (Math.random() > 0.05) {\n            exchange.recordsSuccessful++;\n          } else {\n            exchange.recordsFailed++;\n            exchange.errors.push(`Failed to process record ${i}: Validation error`);\n          }\n        }\n        exchange.status = 'completed';\n        exchange.endTime = new Date();\n        console.log(`‚úÖ Data exchange completed: ${exchangeId} (${exchange.recordsSuccessful}/${exchange.recordsProcessed} successful)`);\n      });\n      function processDataExchange(_x12, _x13) {\n        return _processDataExchange.apply(this, arguments);\n      }\n      return processDataExchange;\n    }()\n  }, {\n    key: \"getExchangeStatus\",\n    value: function getExchangeStatus(exchangeId) {\n      return this.exchanges.get(exchangeId);\n    }\n  }, {\n    key: \"getSupportedStandards\",\n    value: function getSupportedStandards() {\n      return Array.from(this.standards.keys());\n    }\n  }]);\n}();\nvar DisasterRecoveryEngine = function () {\n  function DisasterRecoveryEngine() {\n    _classCallCheck(this, DisasterRecoveryEngine);\n    this.recoveryPlans = new Map();\n    this.backupSystems = new Map();\n  }\n  return _createClass(DisasterRecoveryEngine, [{\n    key: \"createRecoveryPlan\",\n    value: function () {\n      var _createRecoveryPlan = _asyncToGenerator(function* (plan) {\n        var planId = `dr_plan_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n        var recoveryPlan = _objectSpread(_objectSpread({}, plan), {}, {\n          id: planId,\n          lastTested: new Date(),\n          testResults: []\n        });\n        this.recoveryPlans.set(planId, recoveryPlan);\n        console.log(`üõ°Ô∏è Disaster recovery plan created: ${planId}`);\n        return planId;\n      });\n      function createRecoveryPlan(_x14) {\n        return _createRecoveryPlan.apply(this, arguments);\n      }\n      return createRecoveryPlan;\n    }()\n  }, {\n    key: \"testRecoveryPlan\",\n    value: function () {\n      var _testRecoveryPlan = _asyncToGenerator(function* (planId) {\n        var plan = this.recoveryPlans.get(planId);\n        if (!plan) {\n          throw new Error('Recovery plan not found');\n        }\n        console.log(`üß™ Testing disaster recovery plan: ${planId}`);\n        var testResult = {\n          date: new Date(),\n          success: Math.random() > 0.1,\n          actualRTO: plan.rto + Math.floor(Math.random() * 30),\n          actualRPO: plan.rpo + Math.floor(Math.random() * 10),\n          issues: [],\n          recommendations: []\n        };\n        if (!testResult.success) {\n          testResult.issues.push('Network connectivity issues during failover');\n          testResult.recommendations.push('Improve network redundancy');\n        }\n        if (testResult.actualRTO > plan.rto) {\n          testResult.issues.push('RTO exceeded target');\n          testResult.recommendations.push('Optimize recovery procedures');\n        }\n        plan.testResults.push(testResult);\n        plan.lastTested = new Date();\n        console.log(`‚úÖ Recovery test completed: ${testResult.success ? 'PASSED' : 'FAILED'}`);\n        return testResult;\n      });\n      function testRecoveryPlan(_x15) {\n        return _testRecoveryPlan.apply(this, arguments);\n      }\n      return testRecoveryPlan;\n    }()\n  }, {\n    key: \"executeRecovery\",\n    value: function () {\n      var _executeRecovery = _asyncToGenerator(function* (planId, triggerReason) {\n        var plan = this.recoveryPlans.get(planId);\n        if (!plan) {\n          throw new Error('Recovery plan not found');\n        }\n        console.log(`üö® Executing disaster recovery plan: ${planId} (Reason: ${triggerReason})`);\n        var _loop = function* _loop(step) {\n          console.log(`‚ö° Executing step: ${step.name}`);\n          yield new Promise(function (resolve) {\n            return setTimeout(resolve, step.estimatedTime * 10);\n          });\n          console.log(`‚úÖ Step completed: ${step.name}`);\n        };\n        for (var step of plan.recoverySteps) {\n          yield* _loop(step);\n        }\n        console.log(`üéØ Disaster recovery completed for plan: ${planId}`);\n      });\n      function executeRecovery(_x16, _x17) {\n        return _executeRecovery.apply(this, arguments);\n      }\n      return executeRecovery;\n    }()\n  }, {\n    key: \"getRecoveryPlans\",\n    value: function getRecoveryPlans() {\n      return Array.from(this.recoveryPlans.values());\n    }\n  }, {\n    key: \"getRecoveryPlan\",\n    value: function getRecoveryPlan(planId) {\n      return this.recoveryPlans.get(planId);\n    }\n  }]);\n}();\nexport var GlobalHealthInfrastructure = function () {\n  function GlobalHealthInfrastructure() {\n    _classCallCheck(this, GlobalHealthInfrastructure);\n    this.isInitialized = false;\n    this.config = null;\n    this.regionalDeployments = new Map();\n    this.architectureEngine = new ScalableArchitectureEngine();\n    this.interoperabilityEngine = new DataInteroperabilityEngine();\n    this.disasterRecoveryEngine = new DisasterRecoveryEngine();\n  }\n  return _createClass(GlobalHealthInfrastructure, [{\n    key: \"initialize\",\n    value: function () {\n      var _initialize = _asyncToGenerator(function* (config) {\n        try {\n          console.log('üåç Initializing Global Health Infrastructure...');\n          this.config = config;\n          if (config.enableMultiRegionDeployment) {\n            yield this.initializeRegionalDeployments(config.supportedRegions);\n          }\n          if (config.enableScalableArchitecture) {\n            yield this.architectureEngine.initializeLoadBalancing(config.supportedRegions);\n            for (var region of config.supportedRegions) {\n              yield this.architectureEngine.configureAutoScaling(region, {\n                minInstances: 2,\n                maxInstances: 20,\n                targetCPU: 70,\n                targetMemory: 80\n              });\n            }\n          }\n          if (config.enableDisasterRecovery) {\n            yield this.initializeDisasterRecovery();\n          }\n          this.startGlobalMonitoring();\n          this.isInitialized = true;\n          console.log('‚úÖ Global Health Infrastructure initialized successfully');\n        } catch (error) {\n          console.error('‚ùå Failed to initialize Global Health Infrastructure:', error);\n          throw error;\n        }\n      });\n      function initialize(_x18) {\n        return _initialize.apply(this, arguments);\n      }\n      return initialize;\n    }()\n  }, {\n    key: \"initializeRegionalDeployments\",\n    value: function () {\n      var _initializeRegionalDeployments = _asyncToGenerator(function* (regions) {\n        for (var region of regions) {\n          var deployment = {\n            region: region,\n            status: 'active',\n            endpoints: {\n              api: `https://api-${region}.medimind.health`,\n              websocket: `wss://ws-${region}.medimind.health`,\n              cdn: `https://cdn-${region}.medimind.health`\n            },\n            healthCheck: {\n              status: 'healthy',\n              lastCheck: new Date(),\n              responseTime: Math.floor(Math.random() * 100) + 50,\n              uptime: 99.9\n            },\n            dataCenter: {\n              location: region,\n              capacity: 1000,\n              utilization: Math.floor(Math.random() * 70) + 20,\n              redundancy: 'N+1'\n            }\n          };\n          this.regionalDeployments.set(region, deployment);\n          console.log(`üåê Regional deployment initialized: ${region}`);\n        }\n      });\n      function initializeRegionalDeployments(_x19) {\n        return _initializeRegionalDeployments.apply(this, arguments);\n      }\n      return initializeRegionalDeployments;\n    }()\n  }, {\n    key: \"initializeDisasterRecovery\",\n    value: function () {\n      var _initializeDisasterRecovery = _asyncToGenerator(function* () {\n        yield this.disasterRecoveryEngine.createRecoveryPlan({\n          name: 'Primary Data Center Failure',\n          triggerConditions: ['Primary data center unreachable for > 5 minutes', 'Database cluster failure', 'Network partition detected'],\n          recoverySteps: [{\n            id: 'step1',\n            name: 'Activate backup data center',\n            description: 'Switch traffic to backup data center',\n            estimatedTime: 5,\n            dependencies: []\n          }, {\n            id: 'step2',\n            name: 'Restore database from backup',\n            description: 'Restore latest database backup',\n            estimatedTime: 15,\n            dependencies: ['step1']\n          }, {\n            id: 'step3',\n            name: 'Update DNS records',\n            description: 'Point DNS to backup endpoints',\n            estimatedTime: 2,\n            dependencies: ['step1']\n          }],\n          rto: 30,\n          rpo: 5\n        });\n        console.log('üõ°Ô∏è Disaster recovery plans initialized');\n      });\n      function initializeDisasterRecovery() {\n        return _initializeDisasterRecovery.apply(this, arguments);\n      }\n      return initializeDisasterRecovery;\n    }()\n  }, {\n    key: \"startGlobalMonitoring\",\n    value: function startGlobalMonitoring() {\n      var _this = this;\n      setInterval(_asyncToGenerator(function* () {\n        yield _this.architectureEngine.monitorPerformance();\n        yield _this.updateHealthChecks();\n      }), 30000);\n      console.log('üìä Global monitoring started');\n    }\n  }, {\n    key: \"updateHealthChecks\",\n    value: function () {\n      var _updateHealthChecks = _asyncToGenerator(function* () {\n        for (var _ref4 of this.regionalDeployments) {\n          var _ref5 = _slicedToArray(_ref4, 2);\n          var region = _ref5[0];\n          var deployment = _ref5[1];\n          deployment.healthCheck.lastCheck = new Date();\n          deployment.healthCheck.responseTime = Math.floor(Math.random() * 200) + 50;\n          deployment.healthCheck.status = Math.random() > 0.05 ? 'healthy' : 'degraded';\n          if (deployment.healthCheck.status === 'healthy') {\n            deployment.healthCheck.uptime = Math.min(99.99, deployment.healthCheck.uptime + 0.001);\n          } else {\n            deployment.healthCheck.uptime = Math.max(95.0, deployment.healthCheck.uptime - 0.1);\n          }\n        }\n      });\n      function updateHealthChecks() {\n        return _updateHealthChecks.apply(this, arguments);\n      }\n      return updateHealthChecks;\n    }()\n  }, {\n    key: \"transformHealthData\",\n    value: function () {\n      var _transformHealthData = _asyncToGenerator(function* (data, fromStandard, toStandard) {\n        if (!this.isInitialized) {\n          throw new Error('Global Health Infrastructure not initialized');\n        }\n        return yield this.interoperabilityEngine.transformData(data, fromStandard, toStandard);\n      });\n      function transformHealthData(_x20, _x21, _x22) {\n        return _transformHealthData.apply(this, arguments);\n      }\n      return transformHealthData;\n    }()\n  }, {\n    key: \"initiateDataExchange\",\n    value: function () {\n      var _initiateDataExchange2 = _asyncToGenerator(function* (sourceSystem, targetSystem, dataType, standard, data) {\n        if (!this.isInitialized) {\n          throw new Error('Global Health Infrastructure not initialized');\n        }\n        return yield this.interoperabilityEngine.initiateDataExchange(sourceSystem, targetSystem, dataType, standard, data);\n      });\n      function initiateDataExchange(_x23, _x24, _x25, _x26, _x27) {\n        return _initiateDataExchange2.apply(this, arguments);\n      }\n      return initiateDataExchange;\n    }()\n  }, {\n    key: \"getGlobalStatus\",\n    value: function getGlobalStatus() {\n      return {\n        isInitialized: this.isInitialized,\n        regions: Array.from(this.regionalDeployments.keys()),\n        totalRegions: this.regionalDeployments.size,\n        healthyRegions: Array.from(this.regionalDeployments.values()).filter(function (d) {\n          return d.healthCheck.status === 'healthy';\n        }).length,\n        performanceMetrics: this.architectureEngine.getPerformanceMetrics(),\n        scalingStatus: this.architectureEngine.getScalingStatus(),\n        supportedStandards: this.interoperabilityEngine.getSupportedStandards(),\n        disasterRecoveryPlans: this.disasterRecoveryEngine.getRecoveryPlans().length\n      };\n    }\n  }, {\n    key: \"getRegionalStatus\",\n    value: function getRegionalStatus(region) {\n      if (region) {\n        return this.regionalDeployments.get(region);\n      }\n      return Object.fromEntries(this.regionalDeployments);\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!GlobalHealthInfrastructure.instance) {\n        GlobalHealthInfrastructure.instance = new GlobalHealthInfrastructure();\n      }\n      return GlobalHealthInfrastructure.instance;\n    }\n  }, {\n    key: \"initialize\",\n    value: function () {\n      var _initialize2 = _asyncToGenerator(function* (config) {\n        var instance = GlobalHealthInfrastructure.getInstance();\n        yield instance.initialize(config);\n      });\n      function initialize(_x28) {\n        return _initialize2.apply(this, arguments);\n      }\n      return initialize;\n    }()\n  }]);\n}();","map":{"version":3,"names":["ScalableArchitectureEngine","_classCallCheck","loadBalancers","Map","autoScalingGroups","performanceMetrics","_createClass","key","value","_initializeLoadBalancing","_asyncToGenerator","regions","region","loadBalancer","algorithm","healthChecks","sslTermination","targets","metrics","requestsPerSecond","averageResponseTime","errorRate","set","console","log","initializeLoadBalancing","_x","apply","arguments","_configureAutoScaling","config","autoScalingGroup","minInstances","maxInstances","targetCPUUtilization","targetCPU","targetMemoryUtilization","targetMemory","scaleUpCooldown","scaleDownCooldown","currentInstances","configureAutoScaling","_x2","_x3","_monitorPerformance","_ref","_ref2","_slicedToArray","timestamp","Date","Math","floor","random","cpuUtilization","memoryUtilization","diskUtilization","evaluateScaling","monitorPerformance","_evaluateScaling","get","shouldScaleUp","shouldScaleDown","_x4","_x5","getPerformanceMetrics","Object","fromEntries","getScalingStatus","DataInteroperabilityEngine","standards","exchanges","initializeStandards","fhir","name","version","description","mappings","patient","observation","condition","medication","validationRules","hl7","order","dicom","study","series","image","_transformData","data","fromStandard","toStandard","sourceStandard","targetStandard","Error","transformedData","_objectSpread","_transformed","_sourceStandard","_targetStandard","_transformedAt","toISOString","transformData","_x6","_x7","_x8","_initiateDataExchange","sourceSystem","targetSystem","dataType","standard","exchangeId","now","toString","substr","exchange","id","status","startTime","recordsProcessed","recordsSuccessful","recordsFailed","errors","processDataExchange","initiateDataExchange","_x9","_x0","_x1","_x10","_x11","_processDataExchange","i","length","Promise","resolve","setTimeout","push","endTime","_x12","_x13","getExchangeStatus","getSupportedStandards","Array","from","keys","DisasterRecoveryEngine","recoveryPlans","backupSystems","_createRecoveryPlan","plan","planId","recoveryPlan","lastTested","testResults","createRecoveryPlan","_x14","_testRecoveryPlan","testResult","date","success","actualRTO","rto","actualRPO","rpo","issues","recommendations","testRecoveryPlan","_x15","_executeRecovery","triggerReason","_loop","step","estimatedTime","recoverySteps","executeRecovery","_x16","_x17","getRecoveryPlans","values","getRecoveryPlan","GlobalHealthInfrastructure","isInitialized","regionalDeployments","architectureEngine","interoperabilityEngine","disasterRecoveryEngine","_initialize","enableMultiRegionDeployment","initializeRegionalDeployments","supportedRegions","enableScalableArchitecture","enableDisasterRecovery","initializeDisasterRecovery","startGlobalMonitoring","error","initialize","_x18","_initializeRegionalDeployments","deployment","endpoints","api","websocket","cdn","healthCheck","lastCheck","responseTime","uptime","dataCenter","location","capacity","utilization","redundancy","_x19","_initializeDisasterRecovery","triggerConditions","dependencies","_this","setInterval","updateHealthChecks","_updateHealthChecks","_ref4","_ref5","min","max","_transformHealthData","transformHealthData","_x20","_x21","_x22","_initiateDataExchange2","_x23","_x24","_x25","_x26","_x27","getGlobalStatus","totalRegions","size","healthyRegions","filter","d","scalingStatus","supportedStandards","disasterRecoveryPlans","getRegionalStatus","getInstance","instance","_initialize2","_x28"],"sources":["/Users/theophilusogieva/Downloads/medimind/frontend/src/services/global/globalHealth.ts"],"sourcesContent":["/**\n * Global Health Infrastructure Service\n * Implements scalable cloud architecture, multi-region deployment, and global health data interoperability\n */\n\ninterface GlobalHealthConfig {\n  enableScalableArchitecture: boolean;\n  enableMultiRegionDeployment: boolean;\n  enableDisasterRecovery: boolean;\n  enableGlobalDataInteroperability: boolean;\n  enableHealthDataExchange: boolean;\n  enableCrossBorderCompliance: boolean;\n  supportedRegions: string[];\n  supportedStandards: string[];\n  replicationStrategy: 'active-active' | 'active-passive' | 'multi-master';\n  consistencyLevel: 'eventual' | 'strong' | 'bounded-staleness';\n}\n\ninterface HealthDataStandard {\n  name: string;\n  version: string;\n  description: string;\n  mappings: Record<string, any>;\n  validationRules: any[];\n}\n\ninterface RegionalDeployment {\n  region: string;\n  status: 'active' | 'inactive' | 'maintenance' | 'disaster';\n  endpoints: {\n    api: string;\n    websocket: string;\n    cdn: string;\n  };\n  healthCheck: {\n    status: 'healthy' | 'degraded' | 'unhealthy';\n    lastCheck: Date;\n    responseTime: number;\n    uptime: number;\n  };\n  dataCenter: {\n    location: string;\n    capacity: number;\n    utilization: number;\n    redundancy: string;\n  };\n}\n\ninterface DisasterRecoveryPlan {\n  id: string;\n  name: string;\n  triggerConditions: string[];\n  recoverySteps: RecoveryStep[];\n  rto: number; // Recovery Time Objective in minutes\n  rpo: number; // Recovery Point Objective in minutes\n  lastTested: Date;\n  testResults: TestResult[];\n}\n\ninterface RecoveryStep {\n  id: string;\n  name: string;\n  description: string;\n  estimatedTime: number;\n  dependencies: string[];\n  automationScript?: string;\n}\n\ninterface TestResult {\n  date: Date;\n  success: boolean;\n  actualRTO: number;\n  actualRPO: number;\n  issues: string[];\n  recommendations: string[];\n}\n\ninterface HealthDataExchange {\n  id: string;\n  sourceSystem: string;\n  targetSystem: string;\n  dataType: string;\n  standard: string;\n  status: 'pending' | 'in_progress' | 'completed' | 'failed';\n  startTime: Date;\n  endTime?: Date;\n  recordsProcessed: number;\n  recordsSuccessful: number;\n  recordsFailed: number;\n  errors: string[];\n}\n\nclass ScalableArchitectureEngine {\n  private loadBalancers: Map<string, any> = new Map();\n  private autoScalingGroups: Map<string, any> = new Map();\n  private performanceMetrics: Map<string, any> = new Map();\n\n  async initializeLoadBalancing(regions: string[]): Promise<void> {\n    for (const region of regions) {\n      const loadBalancer = {\n        region,\n        algorithm: 'round-robin',\n        healthChecks: true,\n        sslTermination: true,\n        targets: [],\n        metrics: {\n          requestsPerSecond: 0,\n          averageResponseTime: 0,\n          errorRate: 0\n        }\n      };\n\n      this.loadBalancers.set(region, loadBalancer);\n      console.log(`‚öñÔ∏è Load balancer initialized for region: ${region}`);\n    }\n  }\n\n  async configureAutoScaling(region: string, config: any): Promise<void> {\n    const autoScalingGroup = {\n      region,\n      minInstances: config.minInstances || 2,\n      maxInstances: config.maxInstances || 20,\n      targetCPUUtilization: config.targetCPU || 70,\n      targetMemoryUtilization: config.targetMemory || 80,\n      scaleUpCooldown: config.scaleUpCooldown || 300, // 5 minutes\n      scaleDownCooldown: config.scaleDownCooldown || 600, // 10 minutes\n      currentInstances: config.minInstances || 2\n    };\n\n    this.autoScalingGroups.set(region, autoScalingGroup);\n    console.log(`üìà Auto-scaling configured for region: ${region}`);\n  }\n\n  async monitorPerformance(): Promise<void> {\n    // Simulate performance monitoring\n    for (const [region, loadBalancer] of this.loadBalancers) {\n      const metrics = {\n        timestamp: new Date(),\n        requestsPerSecond: Math.floor(Math.random() * 1000) + 100,\n        averageResponseTime: Math.floor(Math.random() * 200) + 50,\n        errorRate: Math.random() * 0.05, // 0-5% error rate\n        cpuUtilization: Math.random() * 100,\n        memoryUtilization: Math.random() * 100,\n        diskUtilization: Math.random() * 100\n      };\n\n      this.performanceMetrics.set(region, metrics);\n      \n      // Trigger auto-scaling if needed\n      await this.evaluateScaling(region, metrics);\n    }\n  }\n\n  private async evaluateScaling(region: string, metrics: any): Promise<void> {\n    const autoScalingGroup = this.autoScalingGroups.get(region);\n    if (!autoScalingGroup) return;\n\n    const shouldScaleUp = \n      metrics.cpuUtilization > autoScalingGroup.targetCPUUtilization ||\n      metrics.memoryUtilization > autoScalingGroup.targetMemoryUtilization;\n\n    const shouldScaleDown = \n      metrics.cpuUtilization < autoScalingGroup.targetCPUUtilization * 0.5 &&\n      metrics.memoryUtilization < autoScalingGroup.targetMemoryUtilization * 0.5;\n\n    if (shouldScaleUp && autoScalingGroup.currentInstances < autoScalingGroup.maxInstances) {\n      autoScalingGroup.currentInstances++;\n      console.log(`üìà Scaling up in ${region}: ${autoScalingGroup.currentInstances} instances`);\n    } else if (shouldScaleDown && autoScalingGroup.currentInstances > autoScalingGroup.minInstances) {\n      autoScalingGroup.currentInstances--;\n      console.log(`üìâ Scaling down in ${region}: ${autoScalingGroup.currentInstances} instances`);\n    }\n  }\n\n  getPerformanceMetrics(region?: string): any {\n    if (region) {\n      return this.performanceMetrics.get(region);\n    }\n    return Object.fromEntries(this.performanceMetrics);\n  }\n\n  getScalingStatus(): any {\n    return Object.fromEntries(this.autoScalingGroups);\n  }\n}\n\nclass DataInteroperabilityEngine {\n  private standards: Map<string, HealthDataStandard> = new Map();\n  private exchanges: Map<string, HealthDataExchange> = new Map();\n\n  constructor() {\n    this.initializeStandards();\n  }\n\n  private initializeStandards(): void {\n    // Initialize common health data standards\n    const fhir: HealthDataStandard = {\n      name: 'FHIR',\n      version: 'R4',\n      description: 'Fast Healthcare Interoperability Resources',\n      mappings: {\n        patient: 'Patient',\n        observation: 'Observation',\n        condition: 'Condition',\n        medication: 'Medication'\n      },\n      validationRules: []\n    };\n\n    const hl7: HealthDataStandard = {\n      name: 'HL7',\n      version: 'v2.8',\n      description: 'Health Level Seven International',\n      mappings: {\n        patient: 'PID',\n        observation: 'OBX',\n        order: 'ORC'\n      },\n      validationRules: []\n    };\n\n    const dicom: HealthDataStandard = {\n      name: 'DICOM',\n      version: '3.0',\n      description: 'Digital Imaging and Communications in Medicine',\n      mappings: {\n        study: 'Study',\n        series: 'Series',\n        image: 'Instance'\n      },\n      validationRules: []\n    };\n\n    this.standards.set('FHIR', fhir);\n    this.standards.set('HL7', hl7);\n    this.standards.set('DICOM', dicom);\n\n    console.log('üåê Health data standards initialized');\n  }\n\n  async transformData(data: any, fromStandard: string, toStandard: string): Promise<any> {\n    const sourceStandard = this.standards.get(fromStandard);\n    const targetStandard = this.standards.get(toStandard);\n\n    if (!sourceStandard || !targetStandard) {\n      throw new Error('Unsupported data standard');\n    }\n\n    // Simulate data transformation\n    console.log(`üîÑ Transforming data from ${fromStandard} to ${toStandard}`);\n    \n    // In a real implementation, this would perform actual data mapping\n    const transformedData = {\n      ...data,\n      _transformed: true,\n      _sourceStandard: fromStandard,\n      _targetStandard: toStandard,\n      _transformedAt: new Date().toISOString()\n    };\n\n    return transformedData;\n  }\n\n  async initiateDataExchange(\n    sourceSystem: string,\n    targetSystem: string,\n    dataType: string,\n    standard: string,\n    data: any[]\n  ): Promise<string> {\n    const exchangeId = `exchange_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n    const exchange: HealthDataExchange = {\n      id: exchangeId,\n      sourceSystem,\n      targetSystem,\n      dataType,\n      standard,\n      status: 'pending',\n      startTime: new Date(),\n      recordsProcessed: 0,\n      recordsSuccessful: 0,\n      recordsFailed: 0,\n      errors: []\n    };\n\n    this.exchanges.set(exchangeId, exchange);\n    console.log(`üîÑ Data exchange initiated: ${exchangeId}`);\n\n    // Simulate data exchange process\n    this.processDataExchange(exchangeId, data);\n\n    return exchangeId;\n  }\n\n  private async processDataExchange(exchangeId: string, data: any[]): Promise<void> {\n    const exchange = this.exchanges.get(exchangeId);\n    if (!exchange) return;\n\n    exchange.status = 'in_progress';\n\n    for (let i = 0; i < data.length; i++) {\n      // Simulate processing time\n      await new Promise(resolve => setTimeout(resolve, 10));\n\n      exchange.recordsProcessed++;\n\n      // Simulate success/failure (95% success rate)\n      if (Math.random() > 0.05) {\n        exchange.recordsSuccessful++;\n      } else {\n        exchange.recordsFailed++;\n        exchange.errors.push(`Failed to process record ${i}: Validation error`);\n      }\n    }\n\n    exchange.status = 'completed';\n    exchange.endTime = new Date();\n\n    console.log(`‚úÖ Data exchange completed: ${exchangeId} (${exchange.recordsSuccessful}/${exchange.recordsProcessed} successful)`);\n  }\n\n  getExchangeStatus(exchangeId: string): HealthDataExchange | undefined {\n    return this.exchanges.get(exchangeId);\n  }\n\n  getSupportedStandards(): string[] {\n    return Array.from(this.standards.keys());\n  }\n}\n\nclass DisasterRecoveryEngine {\n  private recoveryPlans: Map<string, DisasterRecoveryPlan> = new Map();\n  private backupSystems: Map<string, any> = new Map();\n\n  async createRecoveryPlan(plan: Omit<DisasterRecoveryPlan, 'id' | 'lastTested' | 'testResults'>): Promise<string> {\n    const planId = `dr_plan_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n    const recoveryPlan: DisasterRecoveryPlan = {\n      ...plan,\n      id: planId,\n      lastTested: new Date(),\n      testResults: []\n    };\n\n    this.recoveryPlans.set(planId, recoveryPlan);\n    console.log(`üõ°Ô∏è Disaster recovery plan created: ${planId}`);\n\n    return planId;\n  }\n\n  async testRecoveryPlan(planId: string): Promise<TestResult> {\n    const plan = this.recoveryPlans.get(planId);\n    if (!plan) {\n      throw new Error('Recovery plan not found');\n    }\n\n    console.log(`üß™ Testing disaster recovery plan: ${planId}`);\n\n    // Simulate recovery test\n    const testResult: TestResult = {\n      date: new Date(),\n      success: Math.random() > 0.1, // 90% success rate\n      actualRTO: plan.rto + Math.floor(Math.random() * 30), // Add some variance\n      actualRPO: plan.rpo + Math.floor(Math.random() * 10),\n      issues: [],\n      recommendations: []\n    };\n\n    if (!testResult.success) {\n      testResult.issues.push('Network connectivity issues during failover');\n      testResult.recommendations.push('Improve network redundancy');\n    }\n\n    if (testResult.actualRTO > plan.rto) {\n      testResult.issues.push('RTO exceeded target');\n      testResult.recommendations.push('Optimize recovery procedures');\n    }\n\n    plan.testResults.push(testResult);\n    plan.lastTested = new Date();\n\n    console.log(`‚úÖ Recovery test completed: ${testResult.success ? 'PASSED' : 'FAILED'}`);\n\n    return testResult;\n  }\n\n  async executeRecovery(planId: string, triggerReason: string): Promise<void> {\n    const plan = this.recoveryPlans.get(planId);\n    if (!plan) {\n      throw new Error('Recovery plan not found');\n    }\n\n    console.log(`üö® Executing disaster recovery plan: ${planId} (Reason: ${triggerReason})`);\n\n    for (const step of plan.recoverySteps) {\n      console.log(`‚ö° Executing step: ${step.name}`);\n      \n      // Simulate step execution\n      await new Promise(resolve => setTimeout(resolve, step.estimatedTime * 10)); // Scale down for demo\n      \n      console.log(`‚úÖ Step completed: ${step.name}`);\n    }\n\n    console.log(`üéØ Disaster recovery completed for plan: ${planId}`);\n  }\n\n  getRecoveryPlans(): DisasterRecoveryPlan[] {\n    return Array.from(this.recoveryPlans.values());\n  }\n\n  getRecoveryPlan(planId: string): DisasterRecoveryPlan | undefined {\n    return this.recoveryPlans.get(planId);\n  }\n}\n\nexport class GlobalHealthInfrastructure {\n  private static instance: GlobalHealthInfrastructure;\n  private isInitialized = false;\n  private config: GlobalHealthConfig | null = null;\n  private regionalDeployments: Map<string, RegionalDeployment> = new Map();\n  private architectureEngine: ScalableArchitectureEngine = new ScalableArchitectureEngine();\n  private interoperabilityEngine: DataInteroperabilityEngine = new DataInteroperabilityEngine();\n  private disasterRecoveryEngine: DisasterRecoveryEngine = new DisasterRecoveryEngine();\n\n  static getInstance(): GlobalHealthInfrastructure {\n    if (!GlobalHealthInfrastructure.instance) {\n      GlobalHealthInfrastructure.instance = new GlobalHealthInfrastructure();\n    }\n    return GlobalHealthInfrastructure.instance;\n  }\n\n  static async initialize(config: GlobalHealthConfig): Promise<void> {\n    const instance = GlobalHealthInfrastructure.getInstance();\n    await instance.initialize(config);\n  }\n\n  async initialize(config: GlobalHealthConfig): Promise<void> {\n    try {\n      console.log('üåç Initializing Global Health Infrastructure...');\n      \n      this.config = config;\n\n      // Initialize regional deployments\n      if (config.enableMultiRegionDeployment) {\n        await this.initializeRegionalDeployments(config.supportedRegions);\n      }\n\n      // Initialize scalable architecture\n      if (config.enableScalableArchitecture) {\n        await this.architectureEngine.initializeLoadBalancing(config.supportedRegions);\n        \n        for (const region of config.supportedRegions) {\n          await this.architectureEngine.configureAutoScaling(region, {\n            minInstances: 2,\n            maxInstances: 20,\n            targetCPU: 70,\n            targetMemory: 80\n          });\n        }\n      }\n\n      // Initialize disaster recovery\n      if (config.enableDisasterRecovery) {\n        await this.initializeDisasterRecovery();\n      }\n\n      // Start monitoring\n      this.startGlobalMonitoring();\n\n      this.isInitialized = true;\n      console.log('‚úÖ Global Health Infrastructure initialized successfully');\n      \n    } catch (error) {\n      console.error('‚ùå Failed to initialize Global Health Infrastructure:', error);\n      throw error;\n    }\n  }\n\n  private async initializeRegionalDeployments(regions: string[]): Promise<void> {\n    for (const region of regions) {\n      const deployment: RegionalDeployment = {\n        region,\n        status: 'active',\n        endpoints: {\n          api: `https://api-${region}.medimind.health`,\n          websocket: `wss://ws-${region}.medimind.health`,\n          cdn: `https://cdn-${region}.medimind.health`\n        },\n        healthCheck: {\n          status: 'healthy',\n          lastCheck: new Date(),\n          responseTime: Math.floor(Math.random() * 100) + 50,\n          uptime: 99.9\n        },\n        dataCenter: {\n          location: region,\n          capacity: 1000,\n          utilization: Math.floor(Math.random() * 70) + 20,\n          redundancy: 'N+1'\n        }\n      };\n\n      this.regionalDeployments.set(region, deployment);\n      console.log(`üåê Regional deployment initialized: ${region}`);\n    }\n  }\n\n  private async initializeDisasterRecovery(): Promise<void> {\n    // Create sample disaster recovery plan\n    await this.disasterRecoveryEngine.createRecoveryPlan({\n      name: 'Primary Data Center Failure',\n      triggerConditions: [\n        'Primary data center unreachable for > 5 minutes',\n        'Database cluster failure',\n        'Network partition detected'\n      ],\n      recoverySteps: [\n        {\n          id: 'step1',\n          name: 'Activate backup data center',\n          description: 'Switch traffic to backup data center',\n          estimatedTime: 5,\n          dependencies: []\n        },\n        {\n          id: 'step2',\n          name: 'Restore database from backup',\n          description: 'Restore latest database backup',\n          estimatedTime: 15,\n          dependencies: ['step1']\n        },\n        {\n          id: 'step3',\n          name: 'Update DNS records',\n          description: 'Point DNS to backup endpoints',\n          estimatedTime: 2,\n          dependencies: ['step1']\n        }\n      ],\n      rto: 30, // 30 minutes\n      rpo: 5   // 5 minutes\n    });\n\n    console.log('üõ°Ô∏è Disaster recovery plans initialized');\n  }\n\n  private startGlobalMonitoring(): void {\n    // Monitor performance every 30 seconds\n    setInterval(async () => {\n      await this.architectureEngine.monitorPerformance();\n      await this.updateHealthChecks();\n    }, 30000);\n\n    console.log('üìä Global monitoring started');\n  }\n\n  private async updateHealthChecks(): Promise<void> {\n    for (const [region, deployment] of this.regionalDeployments) {\n      // Simulate health check\n      deployment.healthCheck.lastCheck = new Date();\n      deployment.healthCheck.responseTime = Math.floor(Math.random() * 200) + 50;\n      deployment.healthCheck.status = Math.random() > 0.05 ? 'healthy' : 'degraded';\n      \n      if (deployment.healthCheck.status === 'healthy') {\n        deployment.healthCheck.uptime = Math.min(99.99, deployment.healthCheck.uptime + 0.001);\n      } else {\n        deployment.healthCheck.uptime = Math.max(95.0, deployment.healthCheck.uptime - 0.1);\n      }\n    }\n  }\n\n  // Public API methods\n  async transformHealthData(data: any, fromStandard: string, toStandard: string): Promise<any> {\n    if (!this.isInitialized) {\n      throw new Error('Global Health Infrastructure not initialized');\n    }\n\n    return await this.interoperabilityEngine.transformData(data, fromStandard, toStandard);\n  }\n\n  async initiateDataExchange(sourceSystem: string, targetSystem: string, dataType: string, standard: string, data: any[]): Promise<string> {\n    if (!this.isInitialized) {\n      throw new Error('Global Health Infrastructure not initialized');\n    }\n\n    return await this.interoperabilityEngine.initiateDataExchange(sourceSystem, targetSystem, dataType, standard, data);\n  }\n\n  getGlobalStatus(): any {\n    return {\n      isInitialized: this.isInitialized,\n      regions: Array.from(this.regionalDeployments.keys()),\n      totalRegions: this.regionalDeployments.size,\n      healthyRegions: Array.from(this.regionalDeployments.values()).filter(d => d.healthCheck.status === 'healthy').length,\n      performanceMetrics: this.architectureEngine.getPerformanceMetrics(),\n      scalingStatus: this.architectureEngine.getScalingStatus(),\n      supportedStandards: this.interoperabilityEngine.getSupportedStandards(),\n      disasterRecoveryPlans: this.disasterRecoveryEngine.getRecoveryPlans().length\n    };\n  }\n\n  getRegionalStatus(region?: string): any {\n    if (region) {\n      return this.regionalDeployments.get(region);\n    }\n    return Object.fromEntries(this.regionalDeployments);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}