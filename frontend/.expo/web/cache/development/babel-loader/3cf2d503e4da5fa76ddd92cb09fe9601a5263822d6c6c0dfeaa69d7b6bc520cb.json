{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport apiService from \"./apiService\";\nvar HealthDataService = function () {\n  function HealthDataService() {\n    _classCallCheck(this, HealthDataService);\n  }\n  return _createClass(HealthDataService, [{\n    key: \"getVitalSigns\",\n    value: function () {\n      var _getVitalSigns = _asyncToGenerator(function* (options) {\n        try {\n          var response = yield apiService.get('/api/vital-signs', {\n            params: {\n              startDate: options.startDate,\n              endDate: options.endDate,\n              limit: options.limit\n            }\n          });\n          return response.data;\n        } catch (error) {\n          console.error('Error fetching vital signs:', error);\n          throw error;\n        }\n      });\n      function getVitalSigns(_x) {\n        return _getVitalSigns.apply(this, arguments);\n      }\n      return getVitalSigns;\n    }()\n  }, {\n    key: \"addVitalSigns\",\n    value: function () {\n      var _addVitalSigns = _asyncToGenerator(function* (data) {\n        try {\n          var response = yield apiService.post('/api/vital-signs', data);\n          return response.data;\n        } catch (error) {\n          console.error('Error adding vital signs:', error);\n          throw error;\n        }\n      });\n      function addVitalSigns(_x2) {\n        return _addVitalSigns.apply(this, arguments);\n      }\n      return addVitalSigns;\n    }()\n  }, {\n    key: \"getHealthMetrics\",\n    value: function () {\n      var _getHealthMetrics = _asyncToGenerator(function* (options) {\n        try {\n          var response = yield apiService.get('/api/health-metrics', {\n            params: options\n          });\n          return response.data;\n        } catch (error) {\n          console.error('Error fetching health metrics:', error);\n          throw error;\n        }\n      });\n      function getHealthMetrics(_x3) {\n        return _getHealthMetrics.apply(this, arguments);\n      }\n      return getHealthMetrics;\n    }()\n  }, {\n    key: \"uploadVoiceRecording\",\n    value: function () {\n      var _uploadVoiceRecording = _asyncToGenerator(function* (recordingUri) {\n        try {\n          var formData = new FormData();\n          formData.append('audio', {\n            uri: recordingUri,\n            type: 'audio/m4a',\n            name: 'voice_recording.m4a'\n          });\n          var response = yield apiService.post('/api/ml/analyze-voice', formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          });\n          return response.data;\n        } catch (error) {\n          console.error('Error uploading voice recording:', error);\n          throw error;\n        }\n      });\n      function uploadVoiceRecording(_x4) {\n        return _uploadVoiceRecording.apply(this, arguments);\n      }\n      return uploadVoiceRecording;\n    }()\n  }, {\n    key: \"analyzeHealthData\",\n    value: function () {\n      var _analyzeHealthData = _asyncToGenerator(function* (data) {\n        try {\n          var response = yield apiService.post('/api/ml/analyze', data);\n          return response.data;\n        } catch (error) {\n          console.error('Error analyzing health data:', error);\n          throw error;\n        }\n      });\n      function analyzeHealthData(_x5) {\n        return _analyzeHealthData.apply(this, arguments);\n      }\n      return analyzeHealthData;\n    }()\n  }]);\n}();\nexport var healthDataService = new HealthDataService();","map":{"version":3,"names":["apiService","HealthDataService","_classCallCheck","_createClass","key","value","_getVitalSigns","_asyncToGenerator","options","response","get","params","startDate","endDate","limit","data","error","console","getVitalSigns","_x","apply","arguments","_addVitalSigns","post","addVitalSigns","_x2","_getHealthMetrics","getHealthMetrics","_x3","_uploadVoiceRecording","recordingUri","formData","FormData","append","uri","type","name","headers","uploadVoiceRecording","_x4","_analyzeHealthData","analyzeHealthData","_x5","healthDataService"],"sources":["/Users/theophilusogieva/Downloads/medimind/frontend/src/services/healthDataService.ts"],"sourcesContent":["import apiService from './apiService';\nimport { \n  VitalSigns, \n  HealthMetrics, \n  HealthDataPoint, \n  BloodPressureReading, \n  SleepData, \n  ActivityData, \n  VoiceData \n} from '../types/models/health';\n\ntype MeasurementSource = 'manual' | 'device' | 'app';\n\ninterface HealthMetricsOptions {\n  startDate: string;\n  endDate: string;\n  interval?: 'hour' | 'day' | 'week' | 'month';\n  limit?: number;\n}\n\ninterface VoiceAnalysisResponse {\n  id: string;\n  userId: string;\n  recordingId: string;\n  analysisDate: string;\n  status: 'pending' | 'processing' | 'completed' | 'failed';\n  results: {\n    emotion: {\n      primary: string;\n      confidence: number;\n      allEmotions: Array<{\n        emotion: string;\n        score: number;\n      }>;\n    };\n    speechPatterns: {\n      speakingRate: number;\n      pauseFrequency: number;\n      pitch: {\n        mean: number;\n        stdDev: number;\n      };\n      intensity: {\n        mean: number;\n        max: number;\n        min: number;\n      };\n    };\n    healthIndicators: {\n      stressLevel: number;\n      fatigueLevel: number;\n      respiratoryHealth: {\n        score: number;\n        indicators: string[];\n      };\n    };\n    transcript: string;\n    keywords: Array<{\n      text: string;\n      relevance: number;\n      category?: string;\n    }>;\n  };\n  confidenceScores: {\n    overall: number;\n    emotion: number;\n    speechPatterns: number;\n    healthIndicators: number;\n  };\n  metadata: {\n    recordingDuration: number;\n    language: string;\n    modelVersion: string;\n  };\n  createdAt: string;\n  updatedAt: string;\n}\n\nclass HealthDataService {\n  // Vital Signs\n  async getVitalSigns(options: { startDate: string; endDate: string; limit?: number }): Promise<VitalSigns[]> {\n    try {\n      const response = await apiService.get<VitalSigns[]>('/api/vital-signs', {\n        params: {\n          startDate: options.startDate,\n          endDate: options.endDate,\n          limit: options.limit,\n        },\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching vital signs:', error);\n      throw error;\n    }\n  }\n\n  async addVitalSigns(data: Omit<VitalSigns, 'id' | 'userId' | 'createdAt' | 'updatedAt'>): Promise<VitalSigns> {\n    try {\n      const response = await apiService.post<VitalSigns>('/api/vital-signs', data);\n      return response.data;\n    } catch (error) {\n      console.error('Error adding vital signs:', error);\n      throw error;\n    }\n  }\n\n  // Health Metrics\n  async getHealthMetrics(options: HealthMetricsOptions): Promise<HealthMetrics[]> {\n    try {\n      const response = await apiService.get<HealthMetrics[]>('/api/health-metrics', {\n        params: options,\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching health metrics:', error);\n      throw error;\n    }\n  }\n\n  // Voice Analysis\n  async uploadVoiceRecording(recordingUri: string): Promise<VoiceAnalysisResponse> {\n    try {\n      const formData = new FormData();\n      // @ts-ignore - FormData type definition doesn't include the full API\n      formData.append('audio', {\n        uri: recordingUri,\n        type: 'audio/m4a',\n        name: 'voice_recording.m4a',\n      });\n\n      const response = await apiService.post<VoiceAnalysisResponse>('/api/ml/analyze-voice', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error uploading voice recording:', error);\n      throw error;\n    }\n  }\n\n  // Analyze health data with ML\n  async analyzeHealthData(data: {\n    userId: string;\n    age: number;\n    gender: 'male' | 'female' | 'other';\n    bmi: number;\n    // Add other health parameters as needed\n  }): Promise<any> {\n    try {\n      const response = await apiService.post('/api/ml/analyze', data);\n      return response.data;\n    } catch (error) {\n      console.error('Error analyzing health data:', error);\n      throw error;\n    }\n  }\n}\n\n// Export a singleton instance\nexport const healthDataService = new HealthDataService();\n\nexport type { HealthMetricsOptions, VoiceAnalysisResponse, MeasurementSource };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}