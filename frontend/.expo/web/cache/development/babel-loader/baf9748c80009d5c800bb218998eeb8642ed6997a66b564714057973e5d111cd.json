{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar DifferentialPrivacyEngine = function () {\n  function DifferentialPrivacyEngine(epsilon) {\n    _classCallCheck(this, DifferentialPrivacyEngine);\n    this.epsilon = epsilon;\n    this.privacyBudget = epsilon;\n  }\n  return _createClass(DifferentialPrivacyEngine, [{\n    key: \"initialize\",\n    value: function () {\n      var _initialize = _asyncToGenerator(function* () {\n        console.log(`üîí Differential Privacy Engine initialized with Œµ=${this.epsilon}`);\n      });\n      function initialize() {\n        return _initialize.apply(this, arguments);\n      }\n      return initialize;\n    }()\n  }, {\n    key: \"addNoise\",\n    value: function addNoise(data) {\n      var sensitivity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1.0;\n      var scale = sensitivity / this.epsilon;\n      var noisyData = new Float32Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        var u = Math.random() - 0.5;\n        var noise = -scale * Math.sign(u) * Math.log(1 - 2 * Math.abs(u));\n        noisyData[i] = data[i] + noise;\n      }\n      this.privacyBudget -= this.epsilon * 0.1;\n      return noisyData;\n    }\n  }, {\n    key: \"getRemainingBudget\",\n    value: function getRemainingBudget() {\n      return this.privacyBudget;\n    }\n  }]);\n}();\nvar HomomorphicEncryptionEngine = function () {\n  function HomomorphicEncryptionEngine() {\n    _classCallCheck(this, HomomorphicEncryptionEngine);\n    this.keyPair = null;\n  }\n  return _createClass(HomomorphicEncryptionEngine, [{\n    key: \"initialize\",\n    value: function () {\n      var _initialize2 = _asyncToGenerator(function* () {\n        this.keyPair = {\n          publicKey: 'mock_public_key',\n          privateKey: 'mock_private_key'\n        };\n        console.log('üîê Homomorphic Encryption Engine initialized');\n      });\n      function initialize() {\n        return _initialize2.apply(this, arguments);\n      }\n      return initialize;\n    }()\n  }, {\n    key: \"encrypt\",\n    value: function encrypt(data) {\n      return btoa(JSON.stringify(Array.from(data)));\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(encryptedData) {\n      var data = JSON.parse(atob(encryptedData));\n      return new Float32Array(data);\n    }\n  }, {\n    key: \"computeOnEncrypted\",\n    value: function computeOnEncrypted(encData1, encData2, operation) {\n      var data1 = this.decrypt(encData1);\n      var data2 = this.decrypt(encData2);\n      var result = new Float32Array(data1.length);\n      for (var i = 0; i < data1.length; i++) {\n        result[i] = operation === 'add' ? data1[i] + data2[i] : data1[i] * data2[i];\n      }\n      return this.encrypt(result);\n    }\n  }]);\n}();\nvar EdgeAIProcessor = function () {\n  function EdgeAIProcessor() {\n    _classCallCheck(this, EdgeAIProcessor);\n    this.models = new Map();\n    this.config = {};\n  }\n  return _createClass(EdgeAIProcessor, [{\n    key: \"initialize\",\n    value: function () {\n      var _initialize3 = _asyncToGenerator(function* (config) {\n        this.config = config;\n        console.log('üì± Edge AI Processor initialized');\n      });\n      function initialize(_x) {\n        return _initialize3.apply(this, arguments);\n      }\n      return initialize;\n    }()\n  }, {\n    key: \"optimizeForEdge\",\n    value: function () {\n      var _optimizeForEdge = _asyncToGenerator(function* (model) {\n        return _objectSpread(_objectSpread({}, model), {}, {\n          quantized: true,\n          pruned: true,\n          size: model.size * 0.3,\n          latency: model.latency * 0.5\n        });\n      });\n      function optimizeForEdge(_x2) {\n        return _optimizeForEdge.apply(this, arguments);\n      }\n      return optimizeForEdge;\n    }()\n  }, {\n    key: \"runInference\",\n    value: function () {\n      var _runInference = _asyncToGenerator(function* (modelId, input) {\n        var output = new Float32Array(10);\n        for (var i = 0; i < output.length; i++) {\n          output[i] = Math.random();\n        }\n        return output;\n      });\n      function runInference(_x3, _x4) {\n        return _runInference.apply(this, arguments);\n      }\n      return runInference;\n    }()\n  }]);\n}();\nvar FederatedLearningService = function () {\n  function FederatedLearningService() {\n    _classCallCheck(this, FederatedLearningService);\n    this.config = null;\n    this.models = new Map();\n    this.isInitialized = false;\n    this.privacyEngine = null;\n    this.encryptionEngine = null;\n    this.edgeProcessor = null;\n    this.globalModel = null;\n  }\n  return _createClass(FederatedLearningService, [{\n    key: \"initialize\",\n    value: (function () {\n      var _initialize4 = _asyncToGenerator(function* (config) {\n        try {\n          console.log('üß† Initializing Advanced Federated Learning Service...');\n          this.config = config;\n          if (config.enableDifferentialPrivacy) {\n            this.privacyEngine = new DifferentialPrivacyEngine(config.epsilonValue);\n            yield this.privacyEngine.initialize();\n            console.log('‚úÖ Differential Privacy Engine initialized');\n          }\n          if (config.enableHomomorphicEncryption) {\n            this.encryptionEngine = new HomomorphicEncryptionEngine();\n            yield this.encryptionEngine.initialize();\n            console.log('‚úÖ Homomorphic Encryption Engine initialized');\n          }\n          if (config.enableEdgeAI) {\n            this.edgeProcessor = new EdgeAIProcessor();\n            yield this.edgeProcessor.initialize({\n              enableUncertaintyQuantification: true,\n              enableRealTimeInference: true,\n              targetLatency: 100,\n              enableModelVersioning: true\n            });\n            console.log('‚úÖ Edge AI Processor initialized');\n          }\n          if (config.enableContinualLearning) {\n            yield this.initializeContinualLearning();\n          }\n          if (config.enableExplainableAI) {\n            yield this.initializeExplainableAI();\n          }\n          if (config.enableAutoML) {\n            yield this.initializeAutoML();\n          }\n          if (config.enableMultiModalFusion) {\n            yield this.initializeMultiModalFusion();\n          }\n          if (config.enableGraphNeuralNetworks) {\n            yield this.initializeGraphNeuralNetworks();\n          }\n          yield this.initializeGlobalModel();\n          this.isInitialized = true;\n          console.log('‚úÖ Advanced Federated Learning Service fully initialized');\n        } catch (error) {\n          console.error('‚ùå Failed to initialize Federated Learning Service:', error);\n          throw error;\n        }\n      });\n      function initialize(_x5) {\n        return _initialize4.apply(this, arguments);\n      }\n      return initialize;\n    }())\n  }, {\n    key: \"initializeGlobalModel\",\n    value: (function () {\n      var _initializeGlobalModel = _asyncToGenerator(function* () {\n        var _this$config;\n        this.globalModel = {\n          id: 'global-healthcare-model-v1',\n          version: '1.0.0',\n          architecture: 'federated-transformer-healthcare',\n          globalWeights: this.generateInitialWeights(),\n          participants: [],\n          rounds: 0,\n          accuracy: 0.0,\n          privacyBudget: ((_this$config = this.config) == null ? void 0 : _this$config.epsilonValue) || 1.0\n        };\n        console.log('üéØ Global healthcare AI model initialized');\n      });\n      function initializeGlobalModel() {\n        return _initializeGlobalModel.apply(this, arguments);\n      }\n      return initializeGlobalModel;\n    }())\n  }, {\n    key: \"generateInitialWeights\",\n    value: function generateInitialWeights() {\n      var totalWeights = 128 * 64 + 64 * 32 + 32 * 16 + 16 * 10;\n      var weights = new Float32Array(totalWeights);\n      for (var i = 0; i < weights.length; i++) {\n        weights[i] = (Math.random() * 2 - 1) * Math.sqrt(2 / 128);\n      }\n      return weights;\n    }\n  }, {\n    key: \"initializeDifferentialPrivacy\",\n    value: (function () {\n      var _initializeDifferentialPrivacy = _asyncToGenerator(function* (epsilon) {\n        console.log(`üîí Initializing Differential Privacy with Œµ=${epsilon}...`);\n        yield this.storePrivacyBudget(epsilon);\n        console.log('‚úÖ Differential Privacy initialized');\n      });\n      function initializeDifferentialPrivacy(_x6) {\n        return _initializeDifferentialPrivacy.apply(this, arguments);\n      }\n      return initializeDifferentialPrivacy;\n    }())\n  }, {\n    key: \"initializeHomomorphicEncryption\",\n    value: (function () {\n      var _initializeHomomorphicEncryption = _asyncToGenerator(function* () {\n        console.log('üîê Initializing Homomorphic Encryption...');\n        console.log('‚úÖ Homomorphic Encryption initialized');\n      });\n      function initializeHomomorphicEncryption() {\n        return _initializeHomomorphicEncryption.apply(this, arguments);\n      }\n      return initializeHomomorphicEncryption;\n    }())\n  }, {\n    key: \"initializeContinualLearning\",\n    value: (function () {\n      var _initializeContinualLearning = _asyncToGenerator(function* () {\n        console.log('üîÑ Initializing Continual Learning...');\n        console.log('‚úÖ Continual Learning initialized');\n      });\n      function initializeContinualLearning() {\n        return _initializeContinualLearning.apply(this, arguments);\n      }\n      return initializeContinualLearning;\n    }())\n  }, {\n    key: \"initializeExplainableAI\",\n    value: (function () {\n      var _initializeExplainableAI = _asyncToGenerator(function* () {\n        console.log('üí° Initializing Explainable AI...');\n        console.log('‚úÖ Explainable AI initialized');\n      });\n      function initializeExplainableAI() {\n        return _initializeExplainableAI.apply(this, arguments);\n      }\n      return initializeExplainableAI;\n    }())\n  }, {\n    key: \"initializeAutoML\",\n    value: (function () {\n      var _initializeAutoML = _asyncToGenerator(function* () {\n        console.log('ü§ñ Initializing AutoML...');\n        console.log('‚úÖ AutoML initialized');\n      });\n      function initializeAutoML() {\n        return _initializeAutoML.apply(this, arguments);\n      }\n      return initializeAutoML;\n    }())\n  }, {\n    key: \"initializeMultiModalFusion\",\n    value: (function () {\n      var _initializeMultiModalFusion = _asyncToGenerator(function* () {\n        console.log('üîó Initializing Multi-Modal Fusion...');\n        console.log('‚úÖ Multi-Modal Fusion initialized');\n      });\n      function initializeMultiModalFusion() {\n        return _initializeMultiModalFusion.apply(this, arguments);\n      }\n      return initializeMultiModalFusion;\n    }())\n  }, {\n    key: \"initializeGraphNeuralNetworks\",\n    value: (function () {\n      var _initializeGraphNeuralNetworks = _asyncToGenerator(function* () {\n        console.log('üï∏Ô∏è Initializing Graph Neural Networks...');\n        console.log('‚úÖ Graph Neural Networks initialized');\n      });\n      function initializeGraphNeuralNetworks() {\n        return _initializeGraphNeuralNetworks.apply(this, arguments);\n      }\n      return initializeGraphNeuralNetworks;\n    }())\n  }, {\n    key: \"initializeEdgeAI\",\n    value: (function () {\n      var _initializeEdgeAI = _asyncToGenerator(function* () {\n        console.log('üì± Initializing Edge AI...');\n        console.log('‚úÖ Edge AI initialized');\n      });\n      function initializeEdgeAI() {\n        return _initializeEdgeAI.apply(this, arguments);\n      }\n      return initializeEdgeAI;\n    }())\n  }, {\n    key: \"storePrivacyBudget\",\n    value: (function () {\n      var _storePrivacyBudget = _asyncToGenerator(function* (epsilon) {});\n      function storePrivacyBudget(_x7) {\n        return _storePrivacyBudget.apply(this, arguments);\n      }\n      return storePrivacyBudget;\n    }())\n  }, {\n    key: \"participateInFederatedRound\",\n    value: (function () {\n      var _participateInFederatedRound = _asyncToGenerator(function* (modelId, localData) {\n        if (!this.isInitialized) {\n          throw new Error('Federated Learning Service not initialized');\n        }\n        console.log('üîÑ Participating in federated learning round...');\n        var localWeights = yield this.trainLocalModel(localData);\n        var gradients = yield this.computeGradients(localData, localWeights);\n        var privateWeights = localWeights;\n        var privateGradients = gradients;\n        if (this.privacyEngine) {\n          privateWeights = this.privacyEngine.addNoise(localWeights, 1.0);\n          privateGradients = this.privacyEngine.addNoise(gradients, 0.5);\n          console.log(`üîí Applied differential privacy. Remaining budget: ${this.privacyEngine.getRemainingBudget()}`);\n        }\n        var encryptedWeights = privateWeights;\n        var encryptedGradients = privateGradients;\n        if (this.encryptionEngine) {\n          var weightsStr = this.encryptionEngine.encrypt(privateWeights);\n          var gradientsStr = this.encryptionEngine.encrypt(privateGradients);\n          console.log('üîê Applied homomorphic encryption to model updates');\n        }\n        var update = {\n          modelId: modelId,\n          weights: privateWeights,\n          gradients: privateGradients,\n          metadata: {\n            participantId: this.generateParticipantId(),\n            dataSize: localData.length,\n            accuracy: yield this.evaluateLocalModel(localData, localWeights),\n            loss: yield this.computeLoss(localData, localWeights),\n            timestamp: new Date().toISOString()\n          }\n        };\n        console.log('‚úÖ Federated learning round completed');\n        return update;\n      });\n      function participateInFederatedRound(_x8, _x9) {\n        return _participateInFederatedRound.apply(this, arguments);\n      }\n      return participateInFederatedRound;\n    }())\n  }, {\n    key: \"trainLocalModel\",\n    value: (function () {\n      var _trainLocalModel = _asyncToGenerator(function* (healthData) {\n        var _this$globalModel;\n        console.log('üè• Training local healthcare model...');\n        var weights = ((_this$globalModel = this.globalModel) == null ? void 0 : _this$globalModel.globalWeights) || this.generateInitialWeights();\n        var learningRate = 0.001;\n        var epochs = 5;\n        for (var epoch = 0; epoch < epochs; epoch++) {\n          for (var i = 0; i < weights.length; i++) {\n            var gradient = (Math.random() - 0.5) * 0.01;\n            weights[i] -= learningRate * gradient;\n          }\n        }\n        return weights;\n      });\n      function trainLocalModel(_x0) {\n        return _trainLocalModel.apply(this, arguments);\n      }\n      return trainLocalModel;\n    }())\n  }, {\n    key: \"computeGradients\",\n    value: (function () {\n      var _computeGradients = _asyncToGenerator(function* (data, weights) {\n        var gradients = new Float32Array(weights.length);\n        for (var i = 0; i < gradients.length; i++) {\n          gradients[i] = (Math.random() - 0.5) * 0.01;\n        }\n        return gradients;\n      });\n      function computeGradients(_x1, _x10) {\n        return _computeGradients.apply(this, arguments);\n      }\n      return computeGradients;\n    }())\n  }, {\n    key: \"evaluateLocalModel\",\n    value: (function () {\n      var _evaluateLocalModel = _asyncToGenerator(function* (data, weights) {\n        return 0.85 + Math.random() * 0.1;\n      });\n      function evaluateLocalModel(_x11, _x12) {\n        return _evaluateLocalModel.apply(this, arguments);\n      }\n      return evaluateLocalModel;\n    }())\n  }, {\n    key: \"computeLoss\",\n    value: (function () {\n      var _computeLoss = _asyncToGenerator(function* (data, weights) {\n        return Math.random() * 0.2;\n      });\n      function computeLoss(_x13, _x14) {\n        return _computeLoss.apply(this, arguments);\n      }\n      return computeLoss;\n    }())\n  }, {\n    key: \"generateParticipantId\",\n    value: function generateParticipantId() {\n      return `participant-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    }\n  }, {\n    key: \"aggregateModelUpdates\",\n    value: (function () {\n      var _aggregateModelUpdates = _asyncToGenerator(function* (updates) {\n        if (!this.isInitialized || !this.globalModel) {\n          throw new Error('Federated Learning Service not properly initialized');\n        }\n        console.log(`üîÑ Aggregating ${updates.length} model updates...`);\n        var totalDataSize = updates.reduce(function (sum, update) {\n          return sum + update.metadata.dataSize;\n        }, 0);\n        var aggregatedWeights = new Float32Array(this.globalModel.globalWeights.length);\n        for (var update of updates) {\n          var weight = update.metadata.dataSize / totalDataSize;\n          for (var i = 0; i < aggregatedWeights.length; i++) {\n            aggregatedWeights[i] += update.weights[i] * weight;\n          }\n        }\n        this.globalModel.globalWeights = aggregatedWeights;\n        this.globalModel.rounds += 1;\n        this.globalModel.participants = _toConsumableArray(new Set([].concat(_toConsumableArray(this.globalModel.participants), _toConsumableArray(updates.map(function (u) {\n          return u.metadata.participantId;\n        })))));\n        this.globalModel.accuracy = updates.reduce(function (sum, u) {\n          return sum + u.metadata.accuracy;\n        }, 0) / updates.length;\n        console.log(`‚úÖ Global model updated. Round: ${this.globalModel.rounds}, Participants: ${this.globalModel.participants.length}, Accuracy: ${this.globalModel.accuracy.toFixed(3)}`);\n        return this.globalModel;\n      });\n      function aggregateModelUpdates(_x15) {\n        return _aggregateModelUpdates.apply(this, arguments);\n      }\n      return aggregateModelUpdates;\n    }())\n  }, {\n    key: \"explainPrediction\",\n    value: (function () {\n      var _explainPrediction = _asyncToGenerator(function* (modelId, input) {\n        var _this$config2;\n        if (!((_this$config2 = this.config) != null && _this$config2.enableExplainableAI)) {\n          throw new Error('Explainable AI not enabled');\n        }\n        return {\n          featureImportance: {},\n          shapValues: [],\n          explanation: 'Model explanation...'\n        };\n      });\n      function explainPrediction(_x16, _x17) {\n        return _explainPrediction.apply(this, arguments);\n      }\n      return explainPrediction;\n    }())\n  }, {\n    key: \"isServiceInitialized\",\n    value: function isServiceInitialized() {\n      return this.isInitialized;\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!FederatedLearningService.instance) {\n        FederatedLearningService.instance = new FederatedLearningService();\n      }\n      return FederatedLearningService.instance;\n    }\n  }, {\n    key: \"initialize\",\n    value: function () {\n      var _initialize5 = _asyncToGenerator(function* (config) {\n        var instance = FederatedLearningService.getInstance();\n        yield instance.initialize(config);\n      });\n      function initialize(_x18) {\n        return _initialize5.apply(this, arguments);\n      }\n      return initialize;\n    }()\n  }]);\n}();\nexport { FederatedLearningService };\nexport default new FederatedLearningService();","map":{"version":3,"names":["DifferentialPrivacyEngine","epsilon","_classCallCheck","privacyBudget","_createClass","key","value","_initialize","_asyncToGenerator","console","log","initialize","apply","arguments","addNoise","data","sensitivity","length","undefined","scale","noisyData","Float32Array","i","u","Math","random","noise","sign","abs","getRemainingBudget","HomomorphicEncryptionEngine","keyPair","_initialize2","publicKey","privateKey","encrypt","btoa","JSON","stringify","Array","from","decrypt","encryptedData","parse","atob","computeOnEncrypted","encData1","encData2","operation","data1","data2","result","EdgeAIProcessor","models","Map","config","_initialize3","_x","_optimizeForEdge","model","_objectSpread","quantized","pruned","size","latency","optimizeForEdge","_x2","_runInference","modelId","input","output","runInference","_x3","_x4","FederatedLearningService","isInitialized","privacyEngine","encryptionEngine","edgeProcessor","globalModel","_initialize4","enableDifferentialPrivacy","epsilonValue","enableHomomorphicEncryption","enableEdgeAI","enableUncertaintyQuantification","enableRealTimeInference","targetLatency","enableModelVersioning","enableContinualLearning","initializeContinualLearning","enableExplainableAI","initializeExplainableAI","enableAutoML","initializeAutoML","enableMultiModalFusion","initializeMultiModalFusion","enableGraphNeuralNetworks","initializeGraphNeuralNetworks","initializeGlobalModel","error","_x5","_initializeGlobalModel","_this$config","id","version","architecture","globalWeights","generateInitialWeights","participants","rounds","accuracy","totalWeights","weights","sqrt","_initializeDifferentialPrivacy","storePrivacyBudget","initializeDifferentialPrivacy","_x6","_initializeHomomorphicEncryption","initializeHomomorphicEncryption","_initializeContinualLearning","_initializeExplainableAI","_initializeAutoML","_initializeMultiModalFusion","_initializeGraphNeuralNetworks","_initializeEdgeAI","initializeEdgeAI","_storePrivacyBudget","_x7","_participateInFederatedRound","localData","Error","localWeights","trainLocalModel","gradients","computeGradients","privateWeights","privateGradients","encryptedWeights","encryptedGradients","weightsStr","gradientsStr","update","metadata","participantId","generateParticipantId","dataSize","evaluateLocalModel","loss","computeLoss","timestamp","Date","toISOString","participateInFederatedRound","_x8","_x9","_trainLocalModel","healthData","_this$globalModel","learningRate","epochs","epoch","gradient","_x0","_computeGradients","_x1","_x10","_evaluateLocalModel","_x11","_x12","_computeLoss","_x13","_x14","now","toString","substr","_aggregateModelUpdates","updates","totalDataSize","reduce","sum","aggregatedWeights","weight","_toConsumableArray","Set","concat","map","toFixed","aggregateModelUpdates","_x15","_explainPrediction","_this$config2","featureImportance","shapValues","explanation","explainPrediction","_x16","_x17","isServiceInitialized","getInstance","instance","_initialize5","_x18"],"sources":["/Users/theophilusogieva/Downloads/medimind/frontend/src/services/ai/federatedLearning.ts"],"sourcesContent":["/**\n * Federated Learning Service for MediMind\n * Implements privacy-preserving distributed machine learning\n */\n\nexport interface FederatedLearningConfig {\n  enableDifferentialPrivacy: boolean;\n  epsilonValue: number;\n  enableHomomorphicEncryption: boolean;\n  enableContinualLearning: boolean;\n  enableExplainableAI: boolean;\n  enableAutoML: boolean;\n  enableMultiModalFusion: boolean;\n  enableGraphNeuralNetworks: boolean;\n  enableEdgeAI: boolean;\n}\n\nexport interface ModelUpdate {\n  modelId: string;\n  weights: Float32Array;\n  gradients: Float32Array;\n  metadata: {\n    participantId: string;\n    dataSize: number;\n    accuracy: number;\n    loss: number;\n    timestamp: string;\n  };\n}\n\nexport interface FederatedModel {\n  id: string;\n  version: string;\n  architecture: string;\n  globalWeights: Float32Array;\n  participants: string[];\n  rounds: number;\n  accuracy: number;\n  privacyBudget: number;\n}\n\n// Advanced AI Engine Components\nclass DifferentialPrivacyEngine {\n  private epsilon: number;\n  private privacyBudget: number;\n\n  constructor(epsilon: number) {\n    this.epsilon = epsilon;\n    this.privacyBudget = epsilon;\n  }\n\n  async initialize(): Promise<void> {\n    console.log(`üîí Differential Privacy Engine initialized with Œµ=${this.epsilon}`);\n  }\n\n  addNoise(data: Float32Array, sensitivity: number = 1.0): Float32Array {\n    const scale = sensitivity / this.epsilon;\n    const noisyData = new Float32Array(data.length);\n\n    for (let i = 0; i < data.length; i++) {\n      // Add Laplace noise for differential privacy\n      const u = Math.random() - 0.5;\n      const noise = -scale * Math.sign(u) * Math.log(1 - 2 * Math.abs(u));\n      noisyData[i] = data[i] + noise;\n    }\n\n    this.privacyBudget -= this.epsilon * 0.1; // Consume privacy budget\n    return noisyData;\n  }\n\n  getRemainingBudget(): number {\n    return this.privacyBudget;\n  }\n}\n\nclass HomomorphicEncryptionEngine {\n  private keyPair: any = null;\n\n  async initialize(): Promise<void> {\n    // Simulate key generation for homomorphic encryption\n    this.keyPair = {\n      publicKey: 'mock_public_key',\n      privateKey: 'mock_private_key'\n    };\n    console.log('üîê Homomorphic Encryption Engine initialized');\n  }\n\n  encrypt(data: Float32Array): string {\n    // Simulate encryption - in real implementation would use SEAL/HElib\n    return btoa(JSON.stringify(Array.from(data)));\n  }\n\n  decrypt(encryptedData: string): Float32Array {\n    // Simulate decryption\n    const data = JSON.parse(atob(encryptedData));\n    return new Float32Array(data);\n  }\n\n  computeOnEncrypted(encData1: string, encData2: string, operation: 'add' | 'multiply'): string {\n    // Simulate homomorphic computation\n    const data1 = this.decrypt(encData1);\n    const data2 = this.decrypt(encData2);\n    const result = new Float32Array(data1.length);\n\n    for (let i = 0; i < data1.length; i++) {\n      result[i] = operation === 'add' ? data1[i] + data2[i] : data1[i] * data2[i];\n    }\n\n    return this.encrypt(result);\n  }\n}\n\nclass EdgeAIProcessor {\n  private models: Map<string, any> = new Map();\n  private config: any = {};\n\n  async initialize(config: any): Promise<void> {\n    this.config = config;\n    console.log('üì± Edge AI Processor initialized');\n  }\n\n  async optimizeForEdge(model: any): Promise<any> {\n    // Model quantization and pruning for edge deployment\n    return {\n      ...model,\n      quantized: true,\n      pruned: true,\n      size: model.size * 0.3, // 70% size reduction\n      latency: model.latency * 0.5 // 50% latency improvement\n    };\n  }\n\n  async runInference(modelId: string, input: Float32Array): Promise<Float32Array> {\n    // Simulate edge inference with uncertainty quantification\n    const output = new Float32Array(10); // 10 health conditions\n\n    for (let i = 0; i < output.length; i++) {\n      output[i] = Math.random(); // Mock prediction\n    }\n\n    return output;\n  }\n}\n\nclass FederatedLearningService {\n  private static instance: FederatedLearningService;\n  private config: FederatedLearningConfig | null = null;\n  private models: Map<string, FederatedModel> = new Map();\n  private isInitialized = false;\n  private privacyEngine: DifferentialPrivacyEngine | null = null;\n  private encryptionEngine: HomomorphicEncryptionEngine | null = null;\n  private edgeProcessor: EdgeAIProcessor | null = null;\n  private globalModel: FederatedModel | null = null;\n\n  static getInstance(): FederatedLearningService {\n    if (!FederatedLearningService.instance) {\n      FederatedLearningService.instance = new FederatedLearningService();\n    }\n    return FederatedLearningService.instance;\n  }\n\n  static async initialize(config: FederatedLearningConfig): Promise<void> {\n    const instance = FederatedLearningService.getInstance();\n    await instance.initialize(config);\n  }\n\n  /**\n   * Initialize the Federated Learning Service\n   */\n  async initialize(config: FederatedLearningConfig): Promise<void> {\n    try {\n      console.log('üß† Initializing Advanced Federated Learning Service...');\n\n      this.config = config;\n\n      // Initialize differential privacy\n      if (config.enableDifferentialPrivacy) {\n        this.privacyEngine = new DifferentialPrivacyEngine(config.epsilonValue);\n        await this.privacyEngine.initialize();\n        console.log('‚úÖ Differential Privacy Engine initialized');\n      }\n\n      // Initialize homomorphic encryption\n      if (config.enableHomomorphicEncryption) {\n        this.encryptionEngine = new HomomorphicEncryptionEngine();\n        await this.encryptionEngine.initialize();\n        console.log('‚úÖ Homomorphic Encryption Engine initialized');\n      }\n\n      // Initialize edge AI processor\n      if (config.enableEdgeAI) {\n        this.edgeProcessor = new EdgeAIProcessor();\n        await this.edgeProcessor.initialize({\n          enableUncertaintyQuantification: true,\n          enableRealTimeInference: true,\n          targetLatency: 100,\n          enableModelVersioning: true\n        });\n        console.log('‚úÖ Edge AI Processor initialized');\n      }\n\n      // Initialize continual learning\n      if (config.enableContinualLearning) {\n        await this.initializeContinualLearning();\n      }\n\n      // Initialize explainable AI\n      if (config.enableExplainableAI) {\n        await this.initializeExplainableAI();\n      }\n\n      // Initialize AutoML\n      if (config.enableAutoML) {\n        await this.initializeAutoML();\n      }\n\n      // Initialize multi-modal fusion\n      if (config.enableMultiModalFusion) {\n        await this.initializeMultiModalFusion();\n      }\n\n      // Initialize graph neural networks\n      if (config.enableGraphNeuralNetworks) {\n        await this.initializeGraphNeuralNetworks();\n      }\n\n      // Initialize global healthcare model\n      await this.initializeGlobalModel();\n\n      this.isInitialized = true;\n      console.log('‚úÖ Advanced Federated Learning Service fully initialized');\n    } catch (error) {\n      console.error('‚ùå Failed to initialize Federated Learning Service:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Initialize the global healthcare AI model\n   */\n  private async initializeGlobalModel(): Promise<void> {\n    this.globalModel = {\n      id: 'global-healthcare-model-v1',\n      version: '1.0.0',\n      architecture: 'federated-transformer-healthcare',\n      globalWeights: this.generateInitialWeights(),\n      participants: [],\n      rounds: 0,\n      accuracy: 0.0,\n      privacyBudget: this.config?.epsilonValue || 1.0\n    };\n\n    console.log('üéØ Global healthcare AI model initialized');\n  }\n\n  /**\n   * Generate initial weights for healthcare AI model\n   */\n  private generateInitialWeights(): Float32Array {\n    // Healthcare-specific neural network architecture\n    const totalWeights = 128 * 64 + 64 * 32 + 32 * 16 + 16 * 10; // Multi-layer architecture\n    const weights = new Float32Array(totalWeights);\n\n    // Xavier initialization for better convergence\n    for (let i = 0; i < weights.length; i++) {\n      weights[i] = (Math.random() * 2 - 1) * Math.sqrt(2 / 128);\n    }\n\n    return weights;\n  }\n\n  /**\n   * Initialize differential privacy mechanisms\n   */\n  private async initializeDifferentialPrivacy(epsilon: number): Promise<void> {\n    console.log(`üîí Initializing Differential Privacy with Œµ=${epsilon}...`);\n    \n    // Implement differential privacy noise mechanisms\n    // This would integrate with libraries like TensorFlow Privacy\n    \n    // Store privacy budget\n    await this.storePrivacyBudget(epsilon);\n    \n    console.log('‚úÖ Differential Privacy initialized');\n  }\n\n  /**\n   * Initialize homomorphic encryption for secure computation\n   */\n  private async initializeHomomorphicEncryption(): Promise<void> {\n    console.log('üîê Initializing Homomorphic Encryption...');\n    \n    // Initialize encryption schemes (e.g., CKKS, BFV)\n    // This would integrate with libraries like SEAL or HElib\n    \n    console.log('‚úÖ Homomorphic Encryption initialized');\n  }\n\n  /**\n   * Initialize continual learning capabilities\n   */\n  private async initializeContinualLearning(): Promise<void> {\n    console.log('üîÑ Initializing Continual Learning...');\n    \n    // Implement elastic weight consolidation, progressive neural networks, etc.\n    \n    console.log('‚úÖ Continual Learning initialized');\n  }\n\n  /**\n   * Initialize explainable AI components\n   */\n  private async initializeExplainableAI(): Promise<void> {\n    console.log('üí° Initializing Explainable AI...');\n    \n    // Initialize SHAP, LIME, and other interpretability methods\n    \n    console.log('‚úÖ Explainable AI initialized');\n  }\n\n  /**\n   * Initialize AutoML for hyperparameter optimization\n   */\n  private async initializeAutoML(): Promise<void> {\n    console.log('ü§ñ Initializing AutoML...');\n    \n    // Initialize Optuna or similar hyperparameter optimization\n    \n    console.log('‚úÖ AutoML initialized');\n  }\n\n  /**\n   * Initialize multi-modal fusion with attention mechanisms\n   */\n  private async initializeMultiModalFusion(): Promise<void> {\n    console.log('üîó Initializing Multi-Modal Fusion...');\n    \n    // Initialize attention mechanisms for combining different data types\n    \n    console.log('‚úÖ Multi-Modal Fusion initialized');\n  }\n\n  /**\n   * Initialize graph neural networks\n   */\n  private async initializeGraphNeuralNetworks(): Promise<void> {\n    console.log('üï∏Ô∏è Initializing Graph Neural Networks...');\n    \n    // Initialize GNN architectures for health data relationships\n    \n    console.log('‚úÖ Graph Neural Networks initialized');\n  }\n\n  /**\n   * Initialize edge AI capabilities\n   */\n  private async initializeEdgeAI(): Promise<void> {\n    console.log('üì± Initializing Edge AI...');\n    \n    // Initialize on-device model inference\n    \n    console.log('‚úÖ Edge AI initialized');\n  }\n\n  /**\n   * Store privacy budget for differential privacy\n   */\n  private async storePrivacyBudget(epsilon: number): Promise<void> {\n    // Store privacy budget in secure storage\n    // This would track privacy expenditure over time\n  }\n\n  /**\n   * Participate in federated learning round with privacy preservation\n   */\n  async participateInFederatedRound(modelId: string, localData: any): Promise<ModelUpdate> {\n    if (!this.isInitialized) {\n      throw new Error('Federated Learning Service not initialized');\n    }\n\n    console.log('üîÑ Participating in federated learning round...');\n\n    // Train local model on health data\n    const localWeights = await this.trainLocalModel(localData);\n    const gradients = await this.computeGradients(localData, localWeights);\n\n    // Apply differential privacy if enabled\n    let privateWeights = localWeights;\n    let privateGradients = gradients;\n\n    if (this.privacyEngine) {\n      privateWeights = this.privacyEngine.addNoise(localWeights, 1.0);\n      privateGradients = this.privacyEngine.addNoise(gradients, 0.5);\n      console.log(`üîí Applied differential privacy. Remaining budget: ${this.privacyEngine.getRemainingBudget()}`);\n    }\n\n    // Encrypt updates if homomorphic encryption is enabled\n    let encryptedWeights = privateWeights;\n    let encryptedGradients = privateGradients;\n\n    if (this.encryptionEngine) {\n      const weightsStr = this.encryptionEngine.encrypt(privateWeights);\n      const gradientsStr = this.encryptionEngine.encrypt(privateGradients);\n      console.log('üîê Applied homomorphic encryption to model updates');\n    }\n\n    const update: ModelUpdate = {\n      modelId,\n      weights: privateWeights,\n      gradients: privateGradients,\n      metadata: {\n        participantId: this.generateParticipantId(),\n        dataSize: localData.length,\n        accuracy: await this.evaluateLocalModel(localData, localWeights),\n        loss: await this.computeLoss(localData, localWeights),\n        timestamp: new Date().toISOString()\n      }\n    };\n\n    console.log('‚úÖ Federated learning round completed');\n    return update;\n  }\n\n  /**\n   * Train local model on health data\n   */\n  private async trainLocalModel(healthData: any): Promise<Float32Array> {\n    console.log('üè• Training local healthcare model...');\n\n    // Simulate local training with health-specific features\n    const weights = this.globalModel?.globalWeights || this.generateInitialWeights();\n    const learningRate = 0.001;\n    const epochs = 5;\n\n    // Simulate gradient descent training\n    for (let epoch = 0; epoch < epochs; epoch++) {\n      for (let i = 0; i < weights.length; i++) {\n        // Simulate gradient update\n        const gradient = (Math.random() - 0.5) * 0.01;\n        weights[i] -= learningRate * gradient;\n      }\n    }\n\n    return weights;\n  }\n\n  /**\n   * Compute gradients for model updates\n   */\n  private async computeGradients(data: any, weights: Float32Array): Promise<Float32Array> {\n    const gradients = new Float32Array(weights.length);\n\n    // Simulate gradient computation\n    for (let i = 0; i < gradients.length; i++) {\n      gradients[i] = (Math.random() - 0.5) * 0.01;\n    }\n\n    return gradients;\n  }\n\n  /**\n   * Evaluate local model performance\n   */\n  private async evaluateLocalModel(data: any, weights: Float32Array): Promise<number> {\n    // Simulate model evaluation on health data\n    return 0.85 + Math.random() * 0.1; // 85-95% accuracy\n  }\n\n  /**\n   * Compute model loss\n   */\n  private async computeLoss(data: any, weights: Float32Array): Promise<number> {\n    // Simulate loss computation\n    return Math.random() * 0.2; // 0-20% loss\n  }\n\n  /**\n   * Generate unique participant ID\n   */\n  private generateParticipantId(): string {\n    return `participant-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * Aggregate model updates from multiple participants\n   */\n  async aggregateModelUpdates(updates: ModelUpdate[]): Promise<FederatedModel> {\n    if (!this.isInitialized || !this.globalModel) {\n      throw new Error('Federated Learning Service not properly initialized');\n    }\n\n    console.log(`üîÑ Aggregating ${updates.length} model updates...`);\n\n    // Federated averaging with weighted aggregation\n    const totalDataSize = updates.reduce((sum, update) => sum + update.metadata.dataSize, 0);\n    const aggregatedWeights = new Float32Array(this.globalModel.globalWeights.length);\n\n    // Weighted average based on data size\n    for (const update of updates) {\n      const weight = update.metadata.dataSize / totalDataSize;\n      for (let i = 0; i < aggregatedWeights.length; i++) {\n        aggregatedWeights[i] += update.weights[i] * weight;\n      }\n    }\n\n    // Update global model\n    this.globalModel.globalWeights = aggregatedWeights;\n    this.globalModel.rounds += 1;\n    this.globalModel.participants = [...new Set([...this.globalModel.participants, ...updates.map(u => u.metadata.participantId)])];\n    this.globalModel.accuracy = updates.reduce((sum, u) => sum + u.metadata.accuracy, 0) / updates.length;\n\n    console.log(`‚úÖ Global model updated. Round: ${this.globalModel.rounds}, Participants: ${this.globalModel.participants.length}, Accuracy: ${this.globalModel.accuracy.toFixed(3)}`);\n\n    return this.globalModel;\n  }\n\n  /**\n   * Get model explanation for a prediction\n   */\n  async explainPrediction(modelId: string, input: any): Promise<any> {\n    if (!this.config?.enableExplainableAI) {\n      throw new Error('Explainable AI not enabled');\n    }\n\n    // Generate SHAP values or LIME explanations\n    return {\n      featureImportance: {},\n      shapValues: [],\n      explanation: 'Model explanation...'\n    };\n  }\n\n  /**\n   * Check if service is initialized\n   */\n  isServiceInitialized(): boolean {\n    return this.isInitialized;\n  }\n}\n\nexport { FederatedLearningService };\nexport default new FederatedLearningService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}