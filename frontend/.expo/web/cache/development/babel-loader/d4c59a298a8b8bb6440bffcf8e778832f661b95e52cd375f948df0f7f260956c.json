{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport apiService from \"./apiService\";\nvar PredictionService = function () {\n  function PredictionService() {\n    _classCallCheck(this, PredictionService);\n  }\n  return _createClass(PredictionService, [{\n    key: \"getPredictions\",\n    value: (function () {\n      var _getPredictions = _asyncToGenerator(function* () {\n        try {\n          var response = yield apiService.get('/ml/analyze');\n          return response.data;\n        } catch (error) {\n          console.error('Error getting predictions:', error);\n          throw error;\n        }\n      });\n      function getPredictions() {\n        return _getPredictions.apply(this, arguments);\n      }\n      return getPredictions;\n    }())\n  }, {\n    key: \"analyzeVoice\",\n    value: (function () {\n      var _analyzeVoice = _asyncToGenerator(function* (voiceData) {\n        try {\n          var formData = new FormData();\n          formData.append('audio', {\n            uri: voiceData.audioUri,\n            type: voiceData.mimeType || 'audio/m4a',\n            name: 'voice_recording.m4a'\n          });\n          if (voiceData.metadata) {\n            formData.append('metadata', JSON.stringify(voiceData.metadata));\n          }\n          var response = yield apiService.post('/ml/analyze-voice', formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          });\n          return response.data;\n        } catch (error) {\n          console.error('Error analyzing voice:', error);\n          throw error;\n        }\n      });\n      function analyzeVoice(_x) {\n        return _analyzeVoice.apply(this, arguments);\n      }\n      return analyzeVoice;\n    }())\n  }, {\n    key: \"getRiskFactors\",\n    value: (function () {\n      var _getRiskFactors = _asyncToGenerator(function* () {\n        try {\n          var response = yield apiService.get('/ml/risk-factors');\n          return response.data.riskFactors;\n        } catch (error) {\n          console.error('Error getting risk factors:', error);\n          throw error;\n        }\n      });\n      function getRiskFactors() {\n        return _getRiskFactors.apply(this, arguments);\n      }\n      return getRiskFactors;\n    }())\n  }, {\n    key: \"getRecommendations\",\n    value: (function () {\n      var _getRecommendations = _asyncToGenerator(function* (riskProfile) {\n        try {\n          var response = yield apiService.post('/ml/recommendations', {\n            riskProfile: riskProfile\n          });\n          return response.data.recommendations;\n        } catch (error) {\n          console.error('Error getting recommendations:', error);\n          throw error;\n        }\n      });\n      function getRecommendations(_x2) {\n        return _getRecommendations.apply(this, arguments);\n      }\n      return getRecommendations;\n    }())\n  }]);\n}();\nexport var predictionService = new PredictionService();","map":{"version":3,"names":["apiService","PredictionService","_classCallCheck","_createClass","key","value","_getPredictions","_asyncToGenerator","response","get","data","error","console","getPredictions","apply","arguments","_analyzeVoice","voiceData","formData","FormData","append","uri","audioUri","type","mimeType","name","metadata","JSON","stringify","post","headers","analyzeVoice","_x","_getRiskFactors","riskFactors","getRiskFactors","_getRecommendations","riskProfile","recommendations","getRecommendations","_x2","predictionService"],"sources":["/Users/theophilusogieva/Downloads/medimind/frontend/src/services/predictionService.ts"],"sourcesContent":["import apiService from './apiService';\nimport { AIPrediction } from '../types/models/ai';\n\ninterface VoiceAnalysisRequest {\n  audioUri: string;\n  mimeType?: string;\n  duration?: number;\n  sampleRate?: number;\n  metadata?: Record<string, unknown>;\n}\n\ninterface VoiceAnalysisResponse {\n  transcription: string;\n  sentiment: {\n    score: number;\n    label: 'positive' | 'negative' | 'neutral';\n  };\n  healthIndicators: {\n    symptomMentions: Array<{\n      symptom: string;\n      context: string;\n      confidence: number;\n    }>;\n    potentialConditions: Array<{\n      condition: string;\n      confidence: number;\n      severity: 'low' | 'medium' | 'high';\n    }>;\n  };\n  timestamp: string;\n}\n\ninterface RiskFactor {\n  id: string;\n  name: string;\n  category: 'lifestyle' | 'genetic' | 'environmental' | 'medical_history';\n  description: string;\n  severity: 'low' | 'medium' | 'high';\n  isModifiable: boolean;\n  relevanceScore: number;\n}\n\ninterface Recommendation {\n  id: string;\n  title: string;\n  description: string;\n  category: 'diet' | 'exercise' | 'lifestyle' | 'medical' | 'monitoring';\n  priority: 'low' | 'medium' | 'high';\n  estimatedBenefit: number;\n  timeToImplement: number; // in minutes\n  resources?: Array<{\n    title: string;\n    url: string;\n    type: 'article' | 'video' | 'app' | 'professional';\n  }>;\n}\n\nclass PredictionService {\n  /**\n   * Get AI predictions based on user's health data\n   */\n  async getPredictions(): Promise<AIPrediction> {\n    try {\n      const response = await apiService.get<AIPrediction>('/ml/analyze');\n      return response.data;\n    } catch (error) {\n      console.error('Error getting predictions:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Analyze voice recording for health indicators\n   */\n  async analyzeVoice(voiceData: VoiceAnalysisRequest): Promise<VoiceAnalysisResponse> {\n    try {\n      const formData = new FormData();\n      formData.append('audio', {\n        uri: voiceData.audioUri,\n        type: voiceData.mimeType || 'audio/m4a',\n        name: 'voice_recording.m4a',\n      } as unknown as Blob);\n\n      if (voiceData.metadata) {\n        formData.append('metadata', JSON.stringify(voiceData.metadata));\n      }\n\n      const response = await apiService.post<VoiceAnalysisResponse>(\n        '/ml/analyze-voice', \n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n      return response.data;\n    } catch (error) {\n      console.error('Error analyzing voice:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get identified risk factors for the user\n   */\n  async getRiskFactors(): Promise<RiskFactor[]> {\n    try {\n      const response = await apiService.get<{ riskFactors: RiskFactor[] }>('/ml/risk-factors');\n      return response.data.riskFactors;\n    } catch (error) {\n      console.error('Error getting risk factors:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get personalized recommendations based on risk profile\n   */\n  async getRecommendations(riskProfile: Record<string, unknown>): Promise<Recommendation[]> {\n    try {\n      const response = await apiService.post<{ recommendations: Recommendation[] }>(\n        '/ml/recommendations', \n        { riskProfile }\n      );\n      return response.data.recommendations;\n    } catch (error) {\n      console.error('Error getting recommendations:', error);\n      throw error;\n    }\n  }\n}\n\nexport const predictionService = new PredictionService();\n\nexport type { \n  VoiceAnalysisRequest, \n  VoiceAnalysisResponse, \n  RiskFactor, \n  Recommendation \n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}