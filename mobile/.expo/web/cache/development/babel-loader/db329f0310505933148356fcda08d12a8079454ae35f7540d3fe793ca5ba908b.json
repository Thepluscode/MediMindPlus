{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport apiService from \"./apiService\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar AuthService = function () {\n  function AuthService() {\n    _classCallCheck(this, AuthService);\n  }\n  return _createClass(AuthService, [{\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator(function* (credentials) {\n        try {\n          var response = yield apiService.post('/auth/login', {\n            email: credentials.email,\n            password: credentials.password\n          });\n          var authResponse = {\n            user: response.data.user,\n            token: response.data.tokens.accessToken,\n            refreshToken: response.data.tokens.refreshToken\n          };\n          this.storeAuthData(authResponse).catch(function (err) {\n            console.warn('Failed to store auth data, but continuing:', err);\n          });\n          return authResponse;\n        } catch (error) {\n          var _error$response, _error$response$data, _error$response2, _error$response2$data;\n          console.error('Login error:', error);\n          var errorMessage = ((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.message) || ((_error$response2 = error.response) == null ? void 0 : (_error$response2$data = _error$response2.data) == null ? void 0 : _error$response2$data.error) || error.message || 'Login failed. Please try again.';\n          throw new Error(errorMessage);\n        }\n      });\n      function login(_x) {\n        return _login.apply(this, arguments);\n      }\n      return login;\n    }()\n  }, {\n    key: \"register\",\n    value: function () {\n      var _register = _asyncToGenerator(function* (userData) {\n        try {\n          console.log('authService.register called with:', userData);\n          console.log('Making POST request to /auth/register');\n          var response = yield apiService.post('/auth/register', userData);\n          console.log('Registration response received:', response.status);\n          console.log('Response data:', response.data);\n          var authResponse = {\n            user: response.data.user,\n            token: response.data.tokens.accessToken,\n            refreshToken: response.data.tokens.refreshToken\n          };\n          console.log('Storing auth data in background...');\n          this.storeAuthData(authResponse).catch(function (err) {\n            console.warn('Failed to store auth data, but continuing:', err);\n          });\n          console.log('Registration complete, returning auth response immediately');\n          return authResponse;\n        } catch (error) {\n          var _error$response3, _error$response4, _error$response5, _error$response5$data, _error$response6, _error$response6$data;\n          console.error('Registration error caught in authService:', error);\n          console.error('Error details:', {\n            message: error.message,\n            response: (_error$response3 = error.response) == null ? void 0 : _error$response3.data,\n            status: (_error$response4 = error.response) == null ? void 0 : _error$response4.status\n          });\n          var errorMessage = ((_error$response5 = error.response) == null ? void 0 : (_error$response5$data = _error$response5.data) == null ? void 0 : _error$response5$data.message) || ((_error$response6 = error.response) == null ? void 0 : (_error$response6$data = _error$response6.data) == null ? void 0 : _error$response6$data.error) || error.message || 'Registration failed. Please try again.';\n          throw new Error(errorMessage);\n        }\n      });\n      function register(_x2) {\n        return _register.apply(this, arguments);\n      }\n      return register;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = _asyncToGenerator(function* () {\n        try {\n          yield apiService.post('/auth/logout');\n        } catch (error) {\n          console.error('Logout error:', error);\n        } finally {\n          yield this.clearAuthData();\n        }\n      });\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n      return logout;\n    }()\n  }, {\n    key: \"updateProfile\",\n    value: function () {\n      var _updateProfile = _asyncToGenerator(function* (profileData) {\n        try {\n          var response = yield apiService.put('/user/profile', profileData);\n          var updatedUser = response.data.user;\n          if (typeof globalThis.window !== 'undefined') {\n            globalThis.localStorage.setItem('user', JSON.stringify(updatedUser));\n          } else {\n            yield AsyncStorage.setItem('user', JSON.stringify(updatedUser));\n          }\n          return updatedUser;\n        } catch (error) {\n          var _error$response7, _error$response7$data, _error$response8, _error$response8$data;\n          console.error('Profile update error:', error);\n          var errorMessage = ((_error$response7 = error.response) == null ? void 0 : (_error$response7$data = _error$response7.data) == null ? void 0 : _error$response7$data.message) || ((_error$response8 = error.response) == null ? void 0 : (_error$response8$data = _error$response8.data) == null ? void 0 : _error$response8$data.error) || error.message || 'Profile update failed. Please try again.';\n          throw new Error(errorMessage);\n        }\n      });\n      function updateProfile(_x3) {\n        return _updateProfile.apply(this, arguments);\n      }\n      return updateProfile;\n    }()\n  }, {\n    key: \"refreshToken\",\n    value: function () {\n      var _refreshToken = _asyncToGenerator(function* () {\n        try {\n          var _response$data, _response$data$tokens;\n          var _refreshToken2;\n          var userJson;\n          if (typeof globalThis.window !== 'undefined') {\n            _refreshToken2 = globalThis.localStorage.getItem('refreshToken');\n            userJson = globalThis.localStorage.getItem('user');\n          } else {\n            _refreshToken2 = yield AsyncStorage.getItem('refreshToken');\n            userJson = yield AsyncStorage.getItem('user');\n          }\n          if (!_refreshToken2) {\n            throw new Error('No refresh token available');\n          }\n          var response = yield apiService.post('/auth/refresh-token', {\n            refreshToken: _refreshToken2\n          });\n          if (!((_response$data = response.data) != null && (_response$data$tokens = _response$data.tokens) != null && _response$data$tokens.accessToken)) {\n            throw new Error('Invalid token refresh response');\n          }\n          if (!userJson) {\n            throw new Error('No user data available for token refresh');\n          }\n          var user = JSON.parse(userJson);\n          var authResponse = {\n            user: user,\n            token: response.data.tokens.accessToken,\n            refreshToken: response.data.tokens.refreshToken || _refreshToken2\n          };\n          yield this.storeAuthData(authResponse);\n          return response.data.tokens.accessToken;\n        } catch (error) {\n          console.error('Token refresh failed:', error);\n          yield this.clearAuthData();\n          throw error;\n        }\n      });\n      function refreshToken() {\n        return _refreshToken.apply(this, arguments);\n      }\n      return refreshToken;\n    }()\n  }, {\n    key: \"getCurrentUser\",\n    value: function () {\n      var _getCurrentUser = _asyncToGenerator(function* () {\n        try {\n          if (typeof globalThis.window !== 'undefined') {\n            var _token = globalThis.localStorage.getItem('authToken');\n            if (!_token) {\n              throw new Error('No authentication token available');\n            }\n            var _userJson = globalThis.localStorage.getItem('user');\n            if (!_userJson) {\n              throw new Error('No user data available');\n            }\n            return JSON.parse(_userJson);\n          }\n          var token = yield AsyncStorage.getItem('authToken');\n          if (!token) {\n            throw new Error('No authentication token available');\n          }\n          var userJson = yield AsyncStorage.getItem('user');\n          if (!userJson) {\n            throw new Error('No user data available');\n          }\n          return JSON.parse(userJson);\n        } catch (error) {\n          console.error('Failed to fetch current user:', error);\n          throw error;\n        }\n      });\n      function getCurrentUser() {\n        return _getCurrentUser.apply(this, arguments);\n      }\n      return getCurrentUser;\n    }()\n  }, {\n    key: \"isAuthenticated\",\n    value: function () {\n      var _isAuthenticated = _asyncToGenerator(function* () {\n        if (typeof globalThis.window !== 'undefined') {\n          var _token2 = globalThis.localStorage.getItem('authToken');\n          return !!_token2;\n        }\n        var token = yield AsyncStorage.getItem('authToken');\n        return !!token;\n      });\n      function isAuthenticated() {\n        return _isAuthenticated.apply(this, arguments);\n      }\n      return isAuthenticated;\n    }()\n  }, {\n    key: \"storeAuthData\",\n    value: function () {\n      var _storeAuthData = _asyncToGenerator(function* (authData) {\n        if (typeof globalThis.window !== 'undefined') {\n          try {\n            var _authData$token, _authData$refreshToke;\n            console.log('storeAuthData using localStorage for web');\n            console.log('Auth data to store:', {\n              hasToken: !!authData.token,\n              hasRefreshToken: !!authData.refreshToken,\n              hasUser: !!authData.user,\n              tokenLength: (_authData$token = authData.token) == null ? void 0 : _authData$token.length,\n              refreshTokenLength: (_authData$refreshToke = authData.refreshToken) == null ? void 0 : _authData$refreshToke.length\n            });\n            var token = authData.token,\n              refreshToken = authData.refreshToken,\n              user = authData.user;\n            if (token) {\n              globalThis.localStorage.setItem('authToken', token);\n              console.log('Stored authToken, length:', token.length);\n            } else {\n              console.warn('NO TOKEN TO STORE!');\n            }\n            if (refreshToken) {\n              globalThis.localStorage.setItem('refreshToken', refreshToken);\n              console.log('Stored refreshToken, length:', refreshToken.length);\n            } else {\n              console.warn('NO REFRESH TOKEN TO STORE!');\n            }\n            if (user) {\n              globalThis.localStorage.setItem('user', JSON.stringify(user));\n              console.log('Stored user:', user.email);\n            } else {\n              console.warn('NO USER TO STORE!');\n            }\n            console.log('Auth data stored in localStorage - verifying...');\n            console.log('localStorage.authToken exists:', !!globalThis.localStorage.getItem('authToken'));\n            console.log('localStorage.refreshToken exists:', !!globalThis.localStorage.getItem('refreshToken'));\n            console.log('localStorage.user exists:', !!globalThis.localStorage.getItem('user'));\n          } catch (error) {\n            console.error('localStorage FAILED:', error);\n            console.warn('Continuing without persisting auth data');\n          }\n          return;\n        }\n        try {\n          console.log('storeAuthData called with:', authData);\n          var _token3 = authData.token,\n            _refreshToken3 = authData.refreshToken,\n            _user = authData.user;\n          var items = [];\n          if (_token3) items.push(['authToken', _token3]);\n          if (_refreshToken3) items.push(['refreshToken', _refreshToken3]);\n          if (_user) items.push(['user', JSON.stringify(_user)]);\n          if (items.length > 0) {\n            yield AsyncStorage.multiSet(items);\n            console.log('All auth data stored successfully');\n          }\n        } catch (error) {\n          console.error('Error storing auth data:', error);\n          console.warn('Continuing without persisting auth data');\n        }\n      });\n      function storeAuthData(_x4) {\n        return _storeAuthData.apply(this, arguments);\n      }\n      return storeAuthData;\n    }()\n  }, {\n    key: \"clearAuthData\",\n    value: function () {\n      var _clearAuthData = _asyncToGenerator(function* () {\n        if (typeof globalThis.window !== 'undefined') {\n          try {\n            globalThis.localStorage.removeItem('authToken');\n            globalThis.localStorage.removeItem('refreshToken');\n            globalThis.localStorage.removeItem('user');\n          } catch (error) {\n            console.error('Error clearing auth data from localStorage:', error);\n          }\n          return;\n        }\n        try {\n          yield AsyncStorage.multiRemove(['authToken', 'refreshToken', 'user']);\n        } catch (error) {\n          console.error('Error clearing auth data:', error);\n          throw error;\n        }\n      });\n      function clearAuthData() {\n        return _clearAuthData.apply(this, arguments);\n      }\n      return clearAuthData;\n    }()\n  }, {\n    key: \"getStoredUser\",\n    value: function () {\n      var _getStoredUser = _asyncToGenerator(function* () {\n        try {\n          if (typeof globalThis.window !== 'undefined') {\n            var _userJson2 = globalThis.localStorage.getItem('user');\n            if (!_userJson2) return null;\n            return JSON.parse(_userJson2);\n          }\n          var userJson = yield AsyncStorage.getItem('user');\n          if (!userJson) return null;\n          return JSON.parse(userJson);\n        } catch (error) {\n          console.error('Error getting stored user:', error);\n          return null;\n        }\n      });\n      function getStoredUser() {\n        return _getStoredUser.apply(this, arguments);\n      }\n      return getStoredUser;\n    }()\n  }, {\n    key: \"getAuthToken\",\n    value: function () {\n      var _getAuthToken = _asyncToGenerator(function* () {\n        if (typeof globalThis.window !== 'undefined') {\n          return globalThis.localStorage.getItem('authToken');\n        }\n        return yield AsyncStorage.getItem('authToken');\n      });\n      function getAuthToken() {\n        return _getAuthToken.apply(this, arguments);\n      }\n      return getAuthToken;\n    }()\n  }]);\n}();\nexport var authService = new AuthService();","map":{"version":3,"names":["apiService","AsyncStorage","AuthService","_classCallCheck","_createClass","key","value","_login","_asyncToGenerator","credentials","response","post","email","password","authResponse","user","data","token","tokens","accessToken","refreshToken","storeAuthData","catch","err","console","warn","error","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMessage","message","Error","login","_x","apply","arguments","_register","userData","log","status","_error$response3","_error$response4","_error$response5","_error$response5$data","_error$response6","_error$response6$data","register","_x2","_logout","clearAuthData","logout","_updateProfile","profileData","put","updatedUser","globalThis","window","localStorage","setItem","JSON","stringify","_error$response7","_error$response7$data","_error$response8","_error$response8$data","updateProfile","_x3","_refreshToken","_response$data","_response$data$tokens","userJson","getItem","parse","_getCurrentUser","getCurrentUser","_isAuthenticated","isAuthenticated","_storeAuthData","authData","_authData$token","_authData$refreshToke","hasToken","hasRefreshToken","hasUser","tokenLength","length","refreshTokenLength","items","push","multiSet","_x4","_clearAuthData","removeItem","multiRemove","_getStoredUser","getStoredUser","_getAuthToken","getAuthToken","authService"],"sources":["/Users/theophilusogieva/Desktop/MediMindPlus/MediMindPlus/frontend/src/services/authService.ts"],"sourcesContent":["import apiService from './apiService';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthResponse, LoginCredentials, RegisterData, UserProfile } from '../types/models/user';\n\nclass AuthService {\n  async login(credentials: LoginCredentials): Promise<AuthResponse> {\n    try {\n      const response = await apiService.post<{ user: UserProfile; tokens: { accessToken: string; refreshToken: string } }>('/auth/login', {\n        email: credentials.email,\n        password: credentials.password,\n      });\n\n      // Transform response to match frontend AuthResponse format\n      const authResponse: AuthResponse = {\n        user: response.data.user,\n        token: response.data.tokens.accessToken,\n        refreshToken: response.data.tokens.refreshToken\n      };\n\n      // Store tokens in background - don't wait for it to prevent blocking\n      this.storeAuthData(authResponse).catch(err => {\n        console.warn('Failed to store auth data, but continuing:', err);\n      });\n\n      return authResponse;\n    } catch (error: any) {\n      console.error('Login error:', error);\n\n      // Extract the proper error message from the backend response\n      const errorMessage = error.response?.data?.message\n        || error.response?.data?.error\n        || error.message\n        || 'Login failed. Please try again.';\n\n      throw new Error(errorMessage);\n    }\n  }\n\n  async register(userData: RegisterData): Promise<AuthResponse> {\n    try {\n      console.log('authService.register called with:', userData);\n      console.log('Making POST request to /auth/register');\n\n      const response = await apiService.post<{ user: UserProfile; tokens: { accessToken: string; refreshToken: string } }>('/auth/register', userData);\n\n      console.log('Registration response received:', response.status);\n      console.log('Response data:', response.data);\n\n      // Transform response to match frontend AuthResponse format\n      const authResponse: AuthResponse = {\n        user: response.data.user,\n        token: response.data.tokens.accessToken,\n        refreshToken: response.data.tokens.refreshToken\n      };\n\n      console.log('Storing auth data in background...');\n      // Store tokens in background - don't wait for it to prevent blocking\n      this.storeAuthData(authResponse).catch(err => {\n        console.warn('Failed to store auth data, but continuing:', err);\n      });\n\n      console.log('Registration complete, returning auth response immediately');\n      return authResponse;\n    } catch (error: any) {\n      console.error('Registration error caught in authService:', error);\n      console.error('Error details:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status\n      });\n\n      // Extract the proper error message from the backend response\n      const errorMessage = error.response?.data?.message\n        || error.response?.data?.error\n        || error.message\n        || 'Registration failed. Please try again.';\n\n      throw new Error(errorMessage);\n    }\n  }\n\n  async logout(): Promise<void> {\n    try {\n      // Call backend to invalidate token\n      await apiService.post('/auth/logout');\n    } catch (error) {\n      console.error('Logout error:', error);\n      // Continue with local cleanup even if server logout fails\n    } finally {\n      // Clear local storage\n      await this.clearAuthData();\n    }\n  }\n\n  async updateProfile(profileData: Partial<UserProfile>): Promise<UserProfile> {\n    try {\n      const response = await apiService.put<{ user: UserProfile }>('/user/profile', profileData);\n\n      // Update stored user data\n      const updatedUser = response.data.user;\n\n      // Use localStorage on web\n      if (typeof (globalThis as any).window !== 'undefined') {\n        (globalThis as any).localStorage.setItem('user', JSON.stringify(updatedUser));\n      } else {\n        // Use AsyncStorage on mobile\n        await AsyncStorage.setItem('user', JSON.stringify(updatedUser));\n      }\n\n      return updatedUser;\n    } catch (error: any) {\n      console.error('Profile update error:', error);\n      const errorMessage = error.response?.data?.message\n        || error.response?.data?.error\n        || error.message\n        || 'Profile update failed. Please try again.';\n      throw new Error(errorMessage);\n    }\n  }\n\n  async refreshToken(): Promise<string> {\n    try {\n      let refreshToken: string | null;\n      let userJson: string | null;\n\n      // Use localStorage on web\n      if (typeof (globalThis as any).window !== 'undefined') {\n        refreshToken = (globalThis as any).localStorage.getItem('refreshToken');\n        userJson = (globalThis as any).localStorage.getItem('user');\n      } else {\n        // Use AsyncStorage on mobile\n        refreshToken = await AsyncStorage.getItem('refreshToken');\n        userJson = await AsyncStorage.getItem('user');\n      }\n\n      if (!refreshToken) {\n        throw new Error('No refresh token available');\n      }\n\n      const response = await apiService.post<{ tokens: { accessToken: string; refreshToken: string } }>('/auth/refresh-token', { refreshToken });\n\n      if (!response.data?.tokens?.accessToken) {\n        throw new Error('Invalid token refresh response');\n      }\n\n      // Get the current user data to construct a complete AuthResponse\n      if (!userJson) {\n        throw new Error('No user data available for token refresh');\n      }\n      const user = JSON.parse(userJson);\n\n      // Create complete AuthResponse with user data\n      const authResponse: AuthResponse = {\n        user,\n        token: response.data.tokens.accessToken,\n        refreshToken: response.data.tokens.refreshToken || refreshToken // Use new refresh token if provided, otherwise keep the old one\n      };\n\n      await this.storeAuthData(authResponse);\n\n      return response.data.tokens.accessToken;\n    } catch (error) {\n      console.error('Token refresh failed:', error);\n      await this.clearAuthData();\n      throw error;\n    }\n  }\n\n  async getCurrentUser(): Promise<UserProfile> {\n    try {\n      // Use localStorage on web to avoid blocking\n      if (typeof (globalThis as any).window !== 'undefined') {\n        const token = (globalThis as any).localStorage.getItem('authToken');\n        if (!token) {\n          throw new Error('No authentication token available');\n        }\n\n        const userJson = (globalThis as any).localStorage.getItem('user');\n        if (!userJson) {\n          throw new Error('No user data available');\n        }\n\n        return JSON.parse(userJson);\n      }\n\n      // Use AsyncStorage for native mobile\n      const token = await AsyncStorage.getItem('authToken');\n      if (!token) {\n        throw new Error('No authentication token available');\n      }\n\n      const userJson = await AsyncStorage.getItem('user');\n      if (!userJson) {\n        throw new Error('No user data available');\n      }\n\n      return JSON.parse(userJson);\n    } catch (error) {\n      console.error('Failed to fetch current user:', error);\n      throw error;\n    }\n  }\n\n  async isAuthenticated(): Promise<boolean> {\n    // Use localStorage on web to avoid blocking\n    if (typeof (globalThis as any).window !== 'undefined') {\n      const token = (globalThis as any).localStorage.getItem('authToken');\n      return !!token;\n    }\n\n    // Use AsyncStorage for native mobile\n    const token = await AsyncStorage.getItem('authToken');\n    return !!token;\n  }\n\n  private async storeAuthData(authData: AuthResponse): Promise<void> {\n    // Skip AsyncStorage on web - it causes the page to freeze\n    // Use localStorage instead for web\n    if (typeof (globalThis as any).window !== 'undefined') {\n      try {\n        console.log('storeAuthData using localStorage for web');\n        console.log('Auth data to store:', {\n          hasToken: !!authData.token,\n          hasRefreshToken: !!authData.refreshToken,\n          hasUser: !!authData.user,\n          tokenLength: authData.token?.length,\n          refreshTokenLength: authData.refreshToken?.length\n        });\n\n        const { token, refreshToken, user } = authData;\n\n        if (token) {\n          (globalThis as any).localStorage.setItem('authToken', token);\n          console.log('Stored authToken, length:', token.length);\n        } else {\n          console.warn('NO TOKEN TO STORE!');\n        }\n\n        if (refreshToken) {\n          (globalThis as any).localStorage.setItem('refreshToken', refreshToken);\n          console.log('Stored refreshToken, length:', refreshToken.length);\n        } else {\n          console.warn('NO REFRESH TOKEN TO STORE!');\n        }\n\n        if (user) {\n          (globalThis as any).localStorage.setItem('user', JSON.stringify(user));\n          console.log('Stored user:', user.email);\n        } else {\n          console.warn('NO USER TO STORE!');\n        }\n\n        console.log('Auth data stored in localStorage - verifying...');\n        console.log('localStorage.authToken exists:', !!(globalThis as any).localStorage.getItem('authToken'));\n        console.log('localStorage.refreshToken exists:', !!(globalThis as any).localStorage.getItem('refreshToken'));\n        console.log('localStorage.user exists:', !!(globalThis as any).localStorage.getItem('user'));\n      } catch (error) {\n        console.error('localStorage FAILED:', error);\n        console.warn('Continuing without persisting auth data');\n      }\n      return;\n    }\n\n    // Use AsyncStorage for native mobile\n    try {\n      console.log('storeAuthData called with:', authData);\n      const { token, refreshToken, user } = authData;\n\n      const items: [string, string][] = [];\n      if (token) items.push(['authToken', token]);\n      if (refreshToken) items.push(['refreshToken', refreshToken]);\n      if (user) items.push(['user', JSON.stringify(user)]);\n\n      if (items.length > 0) {\n        await AsyncStorage.multiSet(items);\n        console.log('All auth data stored successfully');\n      }\n    } catch (error) {\n      console.error('Error storing auth data:', error);\n      console.warn('Continuing without persisting auth data');\n    }\n  }\n\n  private async clearAuthData(): Promise<void> {\n    // Use localStorage on web to avoid blocking\n    if (typeof (globalThis as any).window !== 'undefined') {\n      try {\n        (globalThis as any).localStorage.removeItem('authToken');\n        (globalThis as any).localStorage.removeItem('refreshToken');\n        (globalThis as any).localStorage.removeItem('user');\n      } catch (error) {\n        console.error('Error clearing auth data from localStorage:', error);\n      }\n      return;\n    }\n\n    // Use AsyncStorage for native mobile\n    try {\n      await AsyncStorage.multiRemove(['authToken', 'refreshToken', 'user']);\n    } catch (error) {\n      console.error('Error clearing auth data:', error);\n      throw error;\n    }\n  }\n\n  async getStoredUser(): Promise<UserProfile | null> {\n    try {\n      // Use localStorage on web to avoid blocking\n      if (typeof (globalThis as any).window !== 'undefined') {\n        const userJson = (globalThis as any).localStorage.getItem('user');\n        if (!userJson) return null;\n        return JSON.parse(userJson) as UserProfile;\n      }\n\n      // Use AsyncStorage for native mobile\n      const userJson = await AsyncStorage.getItem('user');\n      if (!userJson) return null;\n\n      return JSON.parse(userJson) as UserProfile;\n    } catch (error) {\n      console.error('Error getting stored user:', error);\n      return null;\n    }\n  }\n\n  async getAuthToken(): Promise<string | null> {\n    // Use localStorage on web to avoid blocking\n    if (typeof (globalThis as any).window !== 'undefined') {\n      return (globalThis as any).localStorage.getItem('authToken');\n    }\n\n    // Use AsyncStorage for native mobile\n    return await AsyncStorage.getItem('authToken');\n  }\n}\n\nexport const authService = new AuthService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}