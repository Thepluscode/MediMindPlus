{"version":3,"file":"api-CnNo1HRH.js","sources":["../../src/services/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000';\n\n// Shared authenticated API instance\nexport const api = axios.create({\n  baseURL: API_URL,\n  headers: { 'Content-Type': 'application/json' },\n});\n\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) config.headers.Authorization = `Bearer ${token}`;\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Health Analysis\nexport const healthAnalysisService = {\n  getMetrics: (days = 30) => api.get(`/api/health-metrics?days=${days}`),\n  saveMetrics: (data: any) => api.post('/api/health-metrics', data),\n};\n\n// Analytics\nexport const analyticsService = {\n  getSummary: () => api.get('/api/analytics/summary'),\n  getForecast: (data: any) => api.post('/api/analytics/forecast', data),\n  detectAnomalies: (data: any) => api.post('/api/analytics/anomalies', data),\n  generateInsights: (healthData: any[]) => api.post('/api/analytics/insights', { healthData }),\n};\n\n// Settings\nexport const settingsService = {\n  getProfile: () => api.get('/api/settings/profile'),\n  updateProfile: (data: any) => api.put('/api/settings/profile', data),\n  changePassword: (data: any) => api.put('/api/settings/password', data),\n  getPrivacy: () => api.get('/api/settings/privacy/settings'),\n  updatePrivacy: (data: any) => api.put('/api/settings/privacy/settings', data),\n  exportData: () => api.get('/api/settings/privacy/export'),\n};\n\n// Wearables / Device Integration\nexport const wearableService = {\n  syncData: (userId: string, data: any) => api.post(`/api/wearable/${userId}/sync`, data),\n  getDevices: () => api.get(`/api/advanced/wearables/devices/${getUserId()}`),\n  connectDevice: (deviceType: string, manufacturer = 'Unknown') =>\n    api.post('/api/advanced/wearables/connect', { user_id: getUserId(), device_type: deviceType, manufacturer }),\n  disconnectDevice: (deviceId: string) => api.delete(`/api/advanced/wearables/devices/${deviceId}`).catch(() =>\n    api.delete(`/api/wearable/devices/${deviceId}`)),\n  getBiometrics: () => api.get(`/api/advanced/wearables/realtime/${getUserId()}`),\n  getBiometricData: (metric: string, hours = 24) =>\n    api.get(`/api/advanced/biometric/${metric}?hours=${hours}`),\n};\n\n// Consultations / Appointments\nconst getUserId = () => {\n  try { return JSON.parse(localStorage.getItem('user') || '{}')?.id || ''; } catch { return ''; }\n};\nexport const consultationService = {\n  book: (data: any) => api.post('/api/consultations/book', data),\n  getList: () => api.get(`/api/consultations/patient/${getUserId()}`),\n  getById: (id: string) => api.get(`/api/consultations/${id}`),\n  cancel: (id: string) => api.put(`/api/consultations/${id}/cancel`),\n};\n\n// Revolutionary Features\nexport const revolutionaryService = {\n  // Virtual Health Twin\n  getTwin: () => { const uid = getUserId(); return api.get(`/api/v1/health-twin/${uid}`); },\n  runSimulation: (data: any) => { const uid = getUserId(); return api.post(`/api/v1/health-twin/${uid}/simulate`, data); },\n  getTwinPredictions: () => { const uid = getUserId(); return api.get(`/api/v1/health-twin/${uid}/predictions`); },\n\n  // Longevity / Biological Age\n  getBiologicalAge: () => { const uid = getUserId(); return api.get(`/api/v1/longevity/${uid}/biological-age`); },\n  getLongevityProfile: () => { const uid = getUserId(); return api.get(`/api/v1/longevity/${uid}/profile`); },\n  getAgingHallmarks: () => { const uid = getUserId(); return api.get(`/api/v1/longevity/${uid}/aging-hallmarks`); },\n  getTherapies: () => { const uid = getUserId(); return api.get(`/api/v1/longevity/${uid}/therapies`); },\n\n  // Drug Interaction (via advanced features)\n  checkDrugInteractions: (data: any) => api.post('/api/advanced/drug-interactions', data),\n};\n\n// Radiologist\nexport const radiologistService = {\n  getMetrics: (range = 'month') => api.get(`/api/radiologist/metrics?range=${range}`),\n  getWorklist: () => api.get('/api/radiologist/worklist'),\n};\n\n// Payments\nexport const paymentService = {\n  createPaymentIntent: (consultationId: string, amount: number) =>\n    api.post('/api/payments/create-intent', { consultationId, amount }),\n  confirmPayment: (consultationId: string, paymentIntentId: string) =>\n    api.post('/api/payments/confirm', { consultationId, paymentIntentId }),\n};\n\n// Audit Logs (admin)\nexport const auditService = {\n  getLogs: (params?: { skip?: number; limit?: number; status?: string; action?: string }) =>\n    api.get('/api/audit/logs', { params }),\n  exportLogs: () => api.get('/api/audit/logs/export'),\n};\n\n// Dashboard\nexport const dashboardService = {\n  getDashboard: () => api.get('/api/dashboard'),\n  getWidgetData: (widgetId: string, timeRange?: string) =>\n    api.get(`/api/dashboard/${widgetId}/data${timeRange ? `?timeRange=${timeRange}` : ''}`),\n};\n"],"names":["API_URL","api","axios","config","token","error","healthAnalysisService","days","data","analyticsService","healthData","settingsService","wearableService","userId","getUserId","deviceType","manufacturer","deviceId","metric","hours","consultationService","id","revolutionaryService","uid","auditService","params"],"mappings":"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"}