import{a as n}from"./index-xsH4HHeE.js";const c="https://medimindplus-api-production.up.railway.app",a=n.create({baseURL:c,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const l={login:async(e,t)=>{const o=await a.post("/api/auth/login",{email:e,password:t}),r=o.data.token||o.data.tokens?.accessToken,s=o.data.refreshToken||o.data.tokens?.refreshToken;return r&&(localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(o.data.user))),s&&localStorage.setItem("refreshToken",s),o.data},register:async e=>{const t=await a.post("/api/auth/register",e),o=t.data.token||t.data.tokens?.accessToken,r=t.data.refreshToken||t.data.tokens?.refreshToken;return o&&(localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(t.data.user))),r&&localStorage.setItem("refreshToken",r),t.data},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")},getCurrentUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated:()=>!!localStorage.getItem("token")};export{l as a};
//# sourceMappingURL=auth-BrF6Uuus.js.map
