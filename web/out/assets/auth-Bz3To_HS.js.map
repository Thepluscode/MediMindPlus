{"version":3,"file":"auth-Bz3To_HS.js","sources":["../../src/services/auth.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000';\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add token interceptor\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\nexport const authService = {\n  login: async (email, password) => {\n    const response = await api.post('/api/auth/login', { email, password });\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n    }\n    return response.data;\n  },\n\n  register: async (userData) => {\n    const response = await api.post('/api/auth/register', userData);\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n    }\n    return response.data;\n  },\n\n  logout: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  },\n\n  getCurrentUser: () => {\n    const userStr = localStorage.getItem('user');\n    if (userStr) return JSON.parse(userStr);\n    return null;\n  },\n  \n  isAuthenticated: () => {\n      return !!localStorage.getItem('token');\n  }\n};\n"],"names":["API_URL","api","axios","config","token","error","authService","email","password","response","userData","userStr"],"mappings":"wCAEA,MAAMA,EAAU,qDAGVC,EAAMC,EAAM,OAAO,CACvB,QAASF,EACT,QAAS,CACP,eAAgB,kBAAA,CAEpB,CAAC,EAGDC,EAAI,aAAa,QAAQ,IACtBE,GAAW,CACV,MAAMC,EAAQ,aAAa,QAAQ,OAAO,EAC1C,OAAIA,IACFD,EAAO,QAAQ,cAAgB,UAAUC,CAAK,IAEzCD,CACT,EACCE,GAAU,QAAQ,OAAOA,CAAK,CACjC,EAEO,MAAMC,EAAc,CACzB,MAAO,MAAOC,EAAOC,IAAa,CAChC,MAAMC,EAAW,MAAMR,EAAI,KAAK,kBAAmB,CAAE,MAAAM,EAAO,SAAAC,EAAU,EACtE,OAAIC,EAAS,KAAK,QAChB,aAAa,QAAQ,QAASA,EAAS,KAAK,KAAK,EACjD,aAAa,QAAQ,OAAQ,KAAK,UAAUA,EAAS,KAAK,IAAI,CAAC,GAE1DA,EAAS,IAClB,EAEA,SAAU,MAAOC,GAAa,CAC5B,MAAMD,EAAW,MAAMR,EAAI,KAAK,qBAAsBS,CAAQ,EAC9D,OAAID,EAAS,KAAK,QAChB,aAAa,QAAQ,QAASA,EAAS,KAAK,KAAK,EACjD,aAAa,QAAQ,OAAQ,KAAK,UAAUA,EAAS,KAAK,IAAI,CAAC,GAE1DA,EAAS,IAClB,EAEA,OAAQ,IAAM,CACZ,aAAa,WAAW,OAAO,EAC/B,aAAa,WAAW,MAAM,CAChC,EAEA,eAAgB,IAAM,CACpB,MAAME,EAAU,aAAa,QAAQ,MAAM,EAC3C,OAAIA,EAAgB,KAAK,MAAMA,CAAO,EAC/B,IACT,EAEA,gBAAiB,IACN,CAAC,CAAC,aAAa,QAAQ,OAAO,CAE3C"}