import{a as s}from"./index-xsH4HHeE.js";const n="https://medimindplus-api-production.up.railway.app",o=s.create({baseURL:n,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const c={login:async(e,t)=>{const a=await o.post("/api/auth/login",{email:e,password:t}),r=a.data.token||a.data.tokens?.accessToken;return r&&(localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(a.data.user))),a.data},register:async e=>{const t=await o.post("/api/auth/register",e),a=t.data.token||t.data.tokens?.accessToken;return a&&(localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},getCurrentUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated:()=>!!localStorage.getItem("token")};export{c as a};
//# sourceMappingURL=auth-D3bglRCd.js.map
