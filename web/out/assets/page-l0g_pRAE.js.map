{"version":3,"file":"page-l0g_pRAE.js","sources":["../../src/pages/roles-permissions/page.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { api } from '../../services/api';\nimport type { UserRole, Permission, RolePermissions } from '../../types/auth';\n\nconst RolesPermissionsPage: React.FC = () => {\n  const [selectedRole, setSelectedRole] = useState<UserRole>('admin');\n  const [rolePermissions, setRolePermissions] = useState<RolePermissions[]>([]);\n  const [allPermissions, setAllPermissions] = useState<Permission[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n  // Track unsaved changes per role\n  const [pendingChanges, setPendingChanges] = useState<Record<string, string[]>>({});\n\n  const fetchRoles = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await api.get('/api/roles');\n      const data = res.data;\n      setRolePermissions(data.roles);\n      setAllPermissions(data.allPermissions);\n    } catch (err: any) {\n      setError(err?.response?.data?.error || 'Failed to load roles');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchRoles();\n  }, [fetchRoles]);\n\n  const currentPermissions = (): string[] => {\n    if (pendingChanges[selectedRole] !== undefined) return pendingChanges[selectedRole];\n    return rolePermissions.find(r => r.role === selectedRole)?.permissions ?? [];\n  };\n\n  const hasPermission = (permissionId: string) => currentPermissions().includes(permissionId);\n\n  const togglePermission = (permissionId: string) => {\n    const current = currentPermissions();\n    const updated = current.includes(permissionId)\n      ? current.filter(p => p !== permissionId)\n      : [...current, permissionId];\n    setPendingChanges(prev => ({ ...prev, [selectedRole]: updated }));\n  };\n\n  const hasPendingChanges = pendingChanges[selectedRole] !== undefined;\n\n  const saveChanges = async () => {\n    if (!hasPendingChanges) return;\n    setSaving(true);\n    setSaveSuccess(false);\n    setError(null);\n    try {\n      await api.put(`/api/roles/${selectedRole}/permissions`, {\n        permissions: pendingChanges[selectedRole],\n      });\n      // Commit pending changes into rolePermissions state\n      setRolePermissions(prev =>\n        prev.map(r =>\n          r.role === selectedRole ? { ...r, permissions: pendingChanges[selectedRole] } : r\n        )\n      );\n      setPendingChanges(prev => {\n        const next = { ...prev };\n        delete next[selectedRole];\n        return next;\n      });\n      setSaveSuccess(true);\n      setTimeout(() => setSaveSuccess(false), 3000);\n    } catch (err: any) {\n      setError(err?.response?.data?.error || 'Failed to save changes');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const discardChanges = () => {\n    setPendingChanges(prev => {\n      const next = { ...prev };\n      delete next[selectedRole];\n      return next;\n    });\n  };\n\n  const getRoleBadgeColor = (role: UserRole) => {\n    switch (role) {\n      case 'admin': return 'bg-red-100 text-red-700 border-red-200';\n      case 'manager': return 'bg-teal-100 text-teal-700 border-teal-200';\n      case 'operator': return 'bg-blue-100 text-blue-700 border-blue-200';\n      default: return 'bg-gray-100 text-gray-700 border-gray-200';\n    }\n  };\n\n  const getCategoryIcon = (category: string) => {\n    switch (category) {\n      case 'users': return 'ri-user-line';\n      case 'health_data': return 'ri-heart-pulse-line';\n      case 'analytics': return 'ri-bar-chart-line';\n      case 'settings': return 'ri-settings-line';\n      case 'billing': return 'ri-bank-card-line';\n      default: return 'ri-shield-line';\n    }\n  };\n\n  const getCategoryColor = (category: string) => {\n    switch (category) {\n      case 'users': return 'bg-blue-100 text-blue-700';\n      case 'health_data': return 'bg-red-100 text-red-700';\n      case 'analytics': return 'bg-teal-100 text-teal-700';\n      case 'settings': return 'bg-purple-100 text-purple-700';\n      case 'billing': return 'bg-green-100 text-green-700';\n      default: return 'bg-gray-100 text-gray-700';\n    }\n  };\n\n  const groupedPermissions = allPermissions.reduce((acc, permission) => {\n    if (!acc[permission.category]) acc[permission.category] = [];\n    acc[permission.category].push(permission);\n    return acc;\n  }, {} as Record<string, Permission[]>);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-teal-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading roles & permissions...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-teal-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Roles & Permissions</h1>\n          <p className=\"text-sm text-gray-600 mt-1\">Manage role-based access control and permissions</p>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Error banner */}\n        {error && (\n          <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3\">\n            <i className=\"ri-error-warning-line text-red-500 text-xl\"></i>\n            <span className=\"text-red-700 text-sm\">{error}</span>\n            <button onClick={() => setError(null)} className=\"ml-auto text-red-400 hover:text-red-600\">\n              <i className=\"ri-close-line text-lg\"></i>\n            </button>\n          </div>\n        )}\n\n        {/* Success banner */}\n        {saveSuccess && (\n          <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-center gap-3\">\n            <i className=\"ri-checkbox-circle-line text-green-500 text-xl\"></i>\n            <span className=\"text-green-700 text-sm\">Permissions saved successfully.</span>\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Roles List */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">User Roles</h3>\n              <div className=\"space-y-3\">\n                {rolePermissions.map((roleData) => (\n                  <button\n                    key={roleData.role}\n                    onClick={() => setSelectedRole(roleData.role)}\n                    className={`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ${\n                      selectedRole === roleData.role\n                        ? 'border-teal-500 bg-teal-50'\n                        : 'border-gray-200 hover:border-gray-300 bg-white'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium border ${getRoleBadgeColor(roleData.role)}`}>\n                        {roleData.role.charAt(0).toUpperCase() + roleData.role.slice(1)}\n                      </span>\n                      <div className=\"flex items-center gap-2\">\n                        {pendingChanges[roleData.role] !== undefined && (\n                          <span className=\"w-2 h-2 rounded-full bg-amber-400\" title=\"Unsaved changes\"></span>\n                        )}\n                        <span className=\"text-xs text-gray-500\">\n                          {(pendingChanges[roleData.role] ?? roleData.permissions).length} permissions\n                        </span>\n                      </div>\n                    </div>\n                    <p className=\"text-sm text-gray-600\">{roleData.description}</p>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Role Stats */}\n            <div className=\"bg-white rounded-xl border border-gray-200 p-6 mt-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Role Statistics</h3>\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">Total Roles</span>\n                  <span className=\"text-lg font-bold text-gray-900\">{rolePermissions.length}</span>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">Total Permissions</span>\n                  <span className=\"text-lg font-bold text-gray-900\">{allPermissions.length}</span>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">Categories</span>\n                  <span className=\"text-lg font-bold text-gray-900\">{Object.keys(groupedPermissions).length}</span>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">Admin Permissions</span>\n                  <span className=\"text-lg font-bold text-gray-900\">\n                    {(pendingChanges['admin'] ?? rolePermissions.find(r => r.role === 'admin')?.permissions ?? []).length} of {allPermissions.length} permissions enabled\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Permissions Grid */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h3 className=\"text-lg font-bold text-gray-900\">\n                    {selectedRole.charAt(0).toUpperCase() + selectedRole.slice(1)} Permissions\n                  </h3>\n                  <p className=\"text-sm text-gray-600 mt-1\">\n                    {currentPermissions().length} of {allPermissions.length} permissions enabled\n                    {hasPendingChanges && <span className=\"ml-2 text-amber-600 font-medium\">(unsaved changes)</span>}\n                  </p>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <span className={`px-4 py-2 rounded-full text-sm font-medium border ${getRoleBadgeColor(selectedRole)}`}>\n                    {selectedRole.charAt(0).toUpperCase() + selectedRole.slice(1)}\n                  </span>\n                  {hasPendingChanges && (\n                    <>\n                      <button\n                        onClick={discardChanges}\n                        className=\"px-3 py-2 text-sm text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n                      >\n                        Discard\n                      </button>\n                      <button\n                        onClick={saveChanges}\n                        disabled={saving}\n                        className=\"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-lg hover:bg-teal-700 disabled:opacity-50 transition-colors flex items-center gap-2\"\n                      >\n                        {saving ? (\n                          <>\n                            <div className=\"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                            Saving...\n                          </>\n                        ) : (\n                          <>\n                            <i className=\"ri-save-line\"></i>\n                            Save Changes\n                          </>\n                        )}\n                      </button>\n                    </>\n                  )}\n                </div>\n              </div>\n\n              {/* Permissions by Category */}\n              <div className=\"space-y-6\">\n                {Object.entries(groupedPermissions).map(([category, permissions]) => (\n                  <div key={category}>\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <div className={`w-8 h-8 rounded-lg flex items-center justify-center ${getCategoryColor(category)}`}>\n                        <i className={`${getCategoryIcon(category)} text-lg`}></i>\n                      </div>\n                      <h4 className=\"text-sm font-semibold text-gray-900 uppercase tracking-wide\">\n                        {category.replace('_', ' ')}\n                      </h4>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                      {permissions.map((permission) => {\n                        const enabled = hasPermission(permission.id);\n                        return (\n                          <button\n                            key={permission.id}\n                            onClick={() => togglePermission(permission.id)}\n                            className={`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 hover:shadow-sm ${\n                              enabled\n                                ? 'border-teal-200 bg-teal-50 hover:border-teal-300'\n                                : 'border-gray-200 bg-gray-50 hover:border-gray-300'\n                            }`}\n                          >\n                            <div className=\"flex items-start justify-between\">\n                              <div className=\"flex-1\">\n                                <span className=\"text-sm font-medium text-gray-900\">{permission.name}</span>\n                                <p className=\"text-xs text-gray-600 mt-1\">{permission.description}</p>\n                              </div>\n                              <div className=\"ml-3 mt-0.5\">\n                                {enabled ? (\n                                  <div className=\"w-6 h-6 bg-teal-600 rounded-full flex items-center justify-center\">\n                                    <i className=\"ri-check-line text-white text-sm\"></i>\n                                  </div>\n                                ) : (\n                                  <div className=\"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center\">\n                                    <i className=\"ri-close-line text-white text-sm\"></i>\n                                  </div>\n                                )}\n                              </div>\n                            </div>\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RolesPermissionsPage;\n"],"names":["RolesPermissionsPage","selectedRole","setSelectedRole","useState","rolePermissions","setRolePermissions","allPermissions","setAllPermissions","loading","setLoading","saving","setSaving","error","setError","saveSuccess","setSaveSuccess","pendingChanges","setPendingChanges","fetchRoles","useCallback","data","api","err","useEffect","currentPermissions","r","hasPermission","permissionId","togglePermission","current","updated","p","prev","hasPendingChanges","saveChanges","next","discardChanges","getRoleBadgeColor","role","getCategoryIcon","category","getCategoryColor","groupedPermissions","acc","permission","jsxDEV","this","roleData","Fragment","permissions","enabled"],"mappings":"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"}